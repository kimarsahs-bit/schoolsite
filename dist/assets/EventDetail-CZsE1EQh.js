import{b as g,u as j,r as n,g as v,j as e,B as r,m as a}from"./index-vcAYm6vD.js";import{N as o}from"./Navigation-CkWS-LtT.js";import{A as x}from"./arrow-left-DhQ25n61.js";import{C as b}from"./calendar-Cyjlwh6t.js";import{C as N}from"./clock-B1zj3MLd.js";import{M as y}from"./map-pin-WXVSP-9y.js";import{U as w}from"./users-DshTqfGB.js";import{S as k}from"./share-2-6yjGy1yT.js";import"./button-variants-BtDv6DLU.js";import"./useTranslation-FKcwN8er.js";import"./house-ClAQJ8-A.js";import"./book-open-Cck4FFnk.js";import"./building-C8rHFNgL.js";import"./graduation-cap-P36faES5.js";import"./camera-Bc_Ov7XJ.js";import"./trophy-B-XvrowL.js";import"./chevron-down-D_kuZwQK.js";import"./globe-BWhPOJAF.js";import"./bell-D_AoMh8q.js";const K=()=>{const{eventId:l}=g(),i=j(),[t,h]=n.useState(null),[p,d]=n.useState(!0);n.useEffect(()=>{f()},[l]);const f=async()=>{try{const c=(await v("royal-academy-events",[])).find(m=>m.id===l&&m.published);c&&h(c),d(!1)}catch(s){console.error("Error loading event:",s),d(!1)}},u=async()=>{if(t)if(navigator.share)try{await navigator.share({title:t.title,text:t.description,url:window.location.href})}catch(s){console.log("Share cancelled or failed:",s)}else if(navigator.clipboard)try{await navigator.clipboard.writeText(window.location.href),alert("Link copied to clipboard!")}catch(s){console.error("Failed to copy:",s),alert("Unable to share this event. Please copy the URL manually.")}else alert("Sharing is not supported on this browser.")};return p?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(o,{}),e.jsx("div",{className:"flex items-center justify-center min-h-[60vh]",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-royal mx-auto mb-4"}),e.jsx("p",{className:"text-muted-foreground",children:"Loading event..."})]})})]}):t?e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(o,{}),e.jsxs("div",{className:"container mx-auto px-4 py-8 sm:py-16",children:[e.jsxs(r,{variant:"ghost",onClick:()=>i("/events"),className:"mb-6",children:[e.jsx(x,{className:"h-4 w-4 mr-2"}),"Back to Events"]}),e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"max-w-4xl mx-auto",children:[e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center space-x-3 mb-4",children:[e.jsx("span",{className:"px-3 py-1 rounded-full bg-blue-100 text-blue-700 dark:bg-blue-900/30 dark:text-blue-300 text-sm font-medium",children:t.category}),e.jsx("span",{className:"px-3 py-1 rounded-full bg-green-100 text-green-700 dark:bg-green-900/30 dark:text-green-300 text-sm font-medium",children:"Published"})]}),e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-heading font-bold text-foreground mb-4",children:t.title}),e.jsx("p",{className:"text-lg text-muted-foreground leading-relaxed",children:t.description})]}),t.imageUrl&&e.jsx(a.div,{initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.5,delay:.2},className:"mb-8 rounded-xl overflow-hidden shadow-lg",children:e.jsx("img",{src:t.imageUrl,alt:t.title,className:"w-full h-64 sm:h-96 object-cover"})}),e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.3},className:"grid grid-cols-1 sm:grid-cols-2 gap-4 mb-8 p-6 bg-card border border-border rounded-xl",children:[e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(b,{className:"h-5 w-5 text-gold mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Date"}),e.jsx("p",{className:"font-semibold text-foreground",children:new Date(t.date).toLocaleDateString("en-US",{weekday:"long",year:"numeric",month:"long",day:"numeric"})})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(N,{className:"h-5 w-5 text-gold mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Time"}),e.jsx("p",{className:"font-semibold text-foreground",children:t.time})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(y,{className:"h-5 w-5 text-gold mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Location"}),e.jsx("p",{className:"font-semibold text-foreground",children:t.location})]})]}),e.jsxs("div",{className:"flex items-start space-x-3",children:[e.jsx(w,{className:"h-5 w-5 text-gold mt-1 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("p",{className:"text-sm text-muted-foreground",children:"Expected Attendees"}),e.jsxs("p",{className:"font-semibold text-foreground",children:[t.attendees," people"]})]})]})]}),e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.4},className:"prose prose-lg dark:prose-invert max-w-none mb-8",children:[e.jsx("h2",{className:"text-2xl font-heading font-bold mb-4",children:"About This Event"}),e.jsx("div",{className:"text-foreground leading-relaxed whitespace-pre-wrap",children:t.fullContent||t.description})]}),e.jsxs(a.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:.5},className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs(r,{onClick:u,variant:"outline",className:"flex-1",children:[e.jsx(k,{className:"h-4 w-4 mr-2"}),"Share Event"]}),e.jsx(r,{onClick:()=>i("/contact"),className:"flex-1 bg-gradient-to-r from-royal to-gold text-white",children:"Contact Us for More Information"})]})]})]})]}):e.jsxs("div",{className:"min-h-screen bg-background",children:[e.jsx(o,{}),e.jsx("div",{className:"container mx-auto px-4 py-16",children:e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{className:"text-4xl font-heading font-bold mb-4",children:"Event Not Found"}),e.jsx("p",{className:"text-muted-foreground mb-8",children:"The event you're looking for doesn't exist or has been removed."}),e.jsxs(r,{onClick:()=>i("/events"),className:"bg-gradient-to-r from-royal to-gold text-white",children:[e.jsx(x,{className:"h-4 w-4 mr-2"}),"Back to Events"]})]})})]})};export{K as default};
