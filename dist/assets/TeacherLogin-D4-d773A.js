import{r as s,u as I,j as e,m as u,B as x}from"./index-vcAYm6vD.js";import{I as b}from"./input-CVoIJ2zH.js";import{A as S,a as A}from"./alert-BYJYiRk6.js";import{A as C}from"./arrow-left-DhQ25n61.js";import{U as L}from"./users-DshTqfGB.js";import{C as T}from"./circle-alert-D_zFa0RS.js";const q=()=>{const[c,g]=s.useState(""),[d,f]=s.useState(""),[m,n]=s.useState(""),[h,r]=s.useState(!1),[y,p]=s.useState(!0),l=I();s.useEffect(()=>{localStorage.getItem("teacherAuth")==="true"?l("/teacher-dashboard",{replace:!0}):p(!1)},[l]);const j=async t=>{t.preventDefault(),r(!0),n(""),await new Promise(i=>setTimeout(i,1e3));try{const i=JSON.parse(localStorage.getItem("royal-academy-auth-teachers")||"[]"),v=(c||"").trim().toLowerCase(),w=(d||"").trim().toLowerCase(),a=(i||[]).find(o=>{const N=((o.username||o.name||"")+"").trim().toLowerCase(),k=((o.teacherId||o.id||"")+"").trim().toLowerCase();return N===v&&k===w});if(a){if(a.status&&a.status==="banned"){n("Your account has been banned. Please contact the principal."),r(!1);return}localStorage.setItem("teacherAuth","true"),localStorage.setItem("teacherEmail",a.email||""),localStorage.setItem("teacherName",a.username||a.name||"Teacher"),localStorage.setItem("teacherSubject",a.subject||""),l("/teacher-dashboard"),r(!1);return}}catch{}n("Invalid username or teacher ID. Please try again."),r(!1)};return y?e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-royal via-royal/90 to-gold/20 flex items-center justify-center",children:e.jsx("div",{className:"w-16 h-16 border-4 border-gold/30 border-t-gold rounded-full animate-spin"})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 flex items-center justify-center p-2 sm:p-4 relative overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 pointer-events-none",children:[e.jsx("div",{className:"absolute top-20 left-10 w-72 h-72 bg-yellow-400/20 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute bottom-20 right-10 w-72 h-72 bg-cyan-400/20 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),e.jsx("div",{className:"absolute top-1/2 left-1/2 w-96 h-96 bg-amber-300/10 rounded-full blur-3xl -translate-x-1/2 -translate-y-1/2 animate-pulse",style:{animationDelay:"2s"}})]}),e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"w-full max-w-md relative z-10",children:[e.jsx("div",{className:"mb-3 sm:mb-4",children:e.jsxs(x,{variant:"ghost",onClick:()=>l("/auth"),className:"back-btn flex items-center space-x-2",children:[e.jsx(C,{className:"h-4 w-4"}),e.jsx("span",{children:"Back"})]})}),e.jsxs("div",{className:"glass-card rounded-2xl shadow-2xl p-4 sm:p-8 border border-gold/30 relative overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 rounded-2xl pointer-events-none",style:{background:"linear-gradient(45deg, transparent, rgba(255, 193, 7, 0.1), rgba(34, 211, 238, 0.1), transparent)",animation:"shimmer 3s infinite"}}),e.jsxs("div",{className:"text-center mb-6 sm:mb-8 relative z-10",children:[e.jsx(u.div,{initial:{scale:0},animate:{scale:1},transition:{delay:.2,type:"spring",stiffness:200},className:"w-16 h-16 sm:w-20 sm:h-20 rounded-full bg-gradient-to-r from-yellow-400 to-amber-400 flex items-center justify-center mx-auto mb-3 sm:mb-4 shadow-lg shadow-yellow-400/50",children:e.jsx(L,{className:"h-8 w-8 sm:h-10 sm:w-10 text-black"})}),e.jsx("h1",{className:"text-xl sm:text-2xl font-heading font-bold text-white mb-1 sm:mb-2",children:"Teacher Portal"}),e.jsx("p",{className:"text-sm text-cyan-300/80",children:"Access your teaching dashboard"})]}),m&&e.jsxs(S,{className:"mb-4 sm:mb-6 border-red-500/50 bg-red-500/10",children:[e.jsx(T,{className:"h-4 w-4 text-red-400"}),e.jsx(A,{className:"text-red-400 text-sm",children:m})]}),e.jsxs("form",{onSubmit:j,className:"space-y-4 sm:space-y-6 relative z-10",children:[e.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-white",children:"Teacher Username"}),e.jsx(b,{type:"text",value:c,onChange:t=>g(t.target.value),placeholder:"Enter your username",required:!0,className:"h-9 sm:h-11 text-sm text-black dark:text-foreground placeholder:text-gray-500 dark:placeholder:text-gray-400 bg-white dark:bg-background border-gray-300 dark:border-gold/50 focus:border-gold focus:ring-gold/20"})]}),e.jsxs("div",{className:"space-y-1 sm:space-y-2",children:[e.jsx("label",{className:"text-sm font-medium text-white",children:"Teacher ID"}),e.jsx(b,{type:"text",value:d,onChange:t=>f(t.target.value),placeholder:"Enter your teacher ID",required:!0,className:"h-9 sm:h-11 text-sm text-black dark:text-foreground placeholder:text-gray-500 dark:placeholder:text-gray-400 bg-white dark:bg-background border-gray-300 dark:border-gold/50 focus:border-gold focus:ring-gold/20"})]}),e.jsx(x,{type:"submit",disabled:h,className:"w-full bg-gradient-to-r from-gold to-yellow-400 hover:from-yellow-400 hover:to-amber-400 text-black font-semibold h-10 sm:h-12 text-sm shadow-lg shadow-gold/50 hover:shadow-yellow-400/70 transition-all",children:h?e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-black/30 border-t-black rounded-full animate-spin"}),e.jsx("span",{children:"Signing in..."})]}):"Sign In"})]}),e.jsxs("div",{className:"mt-6 sm:mt-8 text-center relative z-10",children:[e.jsxs("p",{className:"text-xs sm:text-sm text-cyan-300/80",children:["Need help? Contact"," ",e.jsx("a",{href:"mailto:admin@royalacademy.edu",className:"text-gold hover:text-yellow-300 transition-colors",children:"admin@royalacademy.edu"})]}),e.jsx("div",{className:"mt-3 sm:mt-4 pt-3 sm:pt-4 border-t border-gold/30",children:e.jsx("p",{className:"text-xs text-cyan-300/80",children:"Royal Academy Teacher Portal â€¢ Secure Access"})})]})]})]}),e.jsx("style",{children:`
        @keyframes shimmer {
          0%, 100% { opacity: 0; }
          50% { opacity: 1; }
        }
      `})]})};export{q as default};
