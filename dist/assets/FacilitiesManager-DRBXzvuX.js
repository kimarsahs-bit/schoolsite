import{r,s as A,g as D,a as m,j as e,m as S,X as w}from"./index-vcAYm6vD.js";import{B as l}from"./button-variants-BtDv6DLU.js";import{I as j}from"./input-CVoIJ2zH.js";import{T as V}from"./textarea-B1JbTjEM.js";import{P}from"./plus-CSXBcpgr.js";import{C as X,a as J,D as Q}from"./dumbbell-lPHRCT9P.js";import{H as U}from"./heart-DhFCiI6H.js";import{C as Y}from"./cpu-Cj_wAsrn.js";import{T as Z}from"./theater-DQn9N5p0.js";import{B as _}from"./beaker-cgrZVnmB.js";import{B as H}from"./book-open-Cck4FFnk.js";import{S as T}from"./square-pen-BVw1FIsV.js";import{T as E}from"./trash-2-04KiNg8K.js";import{S as O}from"./save-5ZuEQXRf.js";const R={BookOpen:H,Beaker:_,Dumbbell:Q,Theater:Z,Cpu:Y,Heart:U,Coffee:J,Car:X},he=()=>{var B;const[v,u]=r.useState([]),[y,h]=r.useState([]),[c,p]=r.useState(null),[d,f]=r.useState(null),[I,x]=r.useState(!1),[M,g]=r.useState(!1),[t,n]=r.useState({icon:"BookOpen",title:"",description:"",features:[],image:"bg-gradient-to-br from-blue-600/20 to-purple-600/20"}),[o,b]=r.useState({value:"",label:""}),[C,F]=r.useState("");r.useEffect(()=>{z();const a=A("royal-academy-facilities",i=>u(i)),s=A("royal-academy-facility-stats",i=>h(i));return()=>{a(),s()}},[]);const z=async()=>{try{const a=[{id:"1",icon:"BookOpen",title:"Royal Library",description:"A magnificent 3-story library with over 100,000 books, digital resources, and quiet study spaces.",features:["Digital Archives","Research Stations","Group Study Rooms","Reading Gardens"],image:"bg-gradient-to-br from-blue-600/20 to-purple-600/20"},{id:"2",icon:"Beaker",title:"Science Laboratories",description:"State-of-the-art labs for Biology, Chemistry, Physics, and Environmental Science research.",features:["Advanced Equipment","Safety Systems","Research Facilities","Greenhouse Complex"],image:"bg-gradient-to-br from-green-600/20 to-blue-600/20"},{id:"3",icon:"Cpu",title:"Technology Center",description:"Modern computer labs with latest hardware, robotics workshop, and maker spaces.",features:["3D Printing Lab","Robotics Workshop","Computer Labs","Innovation Studio"],image:"bg-gradient-to-br from-purple-600/20 to-pink-600/20"},{id:"4",icon:"Dumbbell",title:"Athletic Complex",description:"Comprehensive sports facilities including gymnasium, swimming pool, and outdoor fields.",features:["Olympic Pool","Fitness Center","Sports Fields","Indoor Courts"],image:"bg-gradient-to-br from-orange-600/20 to-red-600/20"},{id:"5",icon:"Theater",title:"Performing Arts Center",description:"Professional-grade theater, music halls, and practice rooms for artistic excellence.",features:["Main Theater","Concert Hall","Practice Rooms","Recording Studio"],image:"bg-gradient-to-br from-pink-600/20 to-purple-600/20"},{id:"6",icon:"Heart",title:"Health & Wellness Center",description:"Complete healthcare facility with medical staff, counseling services, and wellness programs.",features:["Medical Clinic","Counseling Center","Wellness Programs","Nutrition Services"],image:"bg-gradient-to-br from-red-600/20 to-pink-600/20"},{id:"7",icon:"Coffee",title:"Student Commons",description:"Central hub for student life with dining facilities, lounges, and collaborative spaces.",features:["Dining Hall","Student Lounges","Collaborative Spaces","Outdoor Terraces"],image:"bg-gradient-to-br from-yellow-600/20 to-orange-600/20"},{id:"8",icon:"Car",title:"Transportation",description:"Safe and reliable transportation services connecting students to the academy.",features:["School Buses","Shuttle Service","Parking Facilities","Bike Storage"],image:"bg-gradient-to-br from-blue-600/20 to-green-600/20"}],s=[{id:"1",value:"150",label:"Acres Campus"},{id:"2",value:"50+",label:"Modern Facilities"},{id:"3",value:"24/7",label:"Security & Support"},{id:"4",value:"100%",label:"WiFi Coverage"}],i=await D("royal-academy-facilities",a),N=await D("royal-academy-facility-stats",s);u(i),h(N),i.length===0&&(await m("royal-academy-facilities",a),u(a)),N.length===0&&(await m("royal-academy-facility-stats",s),h(s))}catch(a){console.error("[FacilitiesManager] Error loading data:",a)}},L=async()=>{if(!t.title||!t.description){alert("Please fill in all required fields");return}const a={id:(c==null?void 0:c.id)||Date.now().toString(),icon:t.icon||"BookOpen",title:t.title||"",description:t.description||"",features:t.features||[],image:t.image||"bg-gradient-to-br from-blue-600/20 to-purple-600/20"};let s;c?s=v.map(i=>i.id===c.id?a:i):s=[...v,a],u(s),await m("royal-academy-facilities",s),x(!1),p(null),n({icon:"BookOpen",title:"",description:"",features:[],image:"bg-gradient-to-br from-blue-600/20 to-purple-600/20"})},q=async a=>{if(!confirm("Are you sure you want to delete this facility?"))return;const s=v.filter(i=>i.id!==a);u(s),await m("royal-academy-facilities",s)},G=async()=>{if(!o.value||!o.label){alert("Please fill in all fields");return}const a={id:(d==null?void 0:d.id)||Date.now().toString(),value:o.value||"",label:o.label||""};let s;d?s=y.map(i=>i.id===d.id?a:i):s=[...y,a],h(s),await m("royal-academy-facility-stats",s),g(!1),f(null),b({value:"",label:""})},W=async a=>{if(!confirm("Are you sure you want to delete this stat?"))return;const s=y.filter(i=>i.id!==a);h(s),await m("royal-academy-facility-stats",s)},k=()=>{C.trim()&&(n({...t,features:[...t.features||[],C.trim()]}),F(""))},K=a=>{const s=[...t.features||[]];s.splice(a,1),n({...t,features:s})};return e.jsxs("div",{className:"space-y-8",children:[e.jsx("div",{className:"flex items-center justify-between",children:e.jsx("h2",{className:"text-3xl font-bold",children:"Facilities Content Manager"})}),e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h3",{className:"text-2xl font-semibold",children:"Facilities"}),e.jsxs(l,{onClick:()=>{x(!0),p(null),n({icon:"BookOpen",title:"",description:"",features:[],image:"bg-gradient-to-br from-blue-600/20 to-purple-600/20"})},className:"text-white",children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Add Facility"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:v.map(a=>{const s=R[a.icon]||H;return e.jsxs(S.div,{whileHover:{scale:1.02},className:"p-4 border rounded-lg bg-card space-y-3",children:[e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(s,{className:"h-5 w-5 text-gold"}),e.jsx("h4",{className:"font-semibold",children:a.title})]}),e.jsxs("div",{className:"flex space-x-2",children:[e.jsx(l,{size:"sm",variant:"ghost",onClick:()=>{p(a),n(a),x(!0)},children:e.jsx(T,{className:"h-4 w-4"})}),e.jsx(l,{size:"sm",variant:"ghost",onClick:()=>q(a.id),children:e.jsx(E,{className:"h-4 w-4 text-destructive"})})]})]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:a.description}),e.jsx("div",{className:"text-xs space-y-1",children:a.features.map((i,N)=>e.jsxs("div",{className:"text-gold",children:["â€¢ ",i]},N))})]},a.id)})}),I&&e.jsxs(S.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"p-6 border rounded-lg bg-card space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-lg font-semibold",children:c?"Edit Facility":"Add Facility"}),e.jsx(l,{size:"sm",variant:"ghost",onClick:()=>{x(!1),p(null)},children:e.jsx(w,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Icon"}),e.jsx("select",{className:"w-full mt-1 p-2 border rounded",value:t.icon,onChange:a=>n({...t,icon:a.target.value}),children:Object.keys(R).map(a=>e.jsx("option",{value:a,children:a},a))})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Background Gradient"}),e.jsx(j,{value:t.image,onChange:a=>n({...t,image:a.target.value}),placeholder:"bg-gradient-to-br from-blue-600/20 to-purple-600/20"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Title"}),e.jsx(j,{value:t.title,onChange:a=>n({...t,title:a.target.value}),placeholder:"Facility title"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Description"}),e.jsx(V,{value:t.description,onChange:a=>n({...t,description:a.target.value}),placeholder:"Facility description",rows:3})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Key Features"}),e.jsxs("div",{className:"flex space-x-2 mt-1",children:[e.jsx(j,{value:C,onChange:a=>F(a.target.value),placeholder:"Feature name",onKeyPress:a=>a.key==="Enter"&&k()}),e.jsx(l,{type:"button",onClick:k,children:"Add"})]}),e.jsx("div",{className:"mt-2 space-y-1",children:(B=t.features)==null?void 0:B.map((a,s)=>e.jsxs("div",{className:"flex items-center justify-between p-2 bg-muted rounded",children:[e.jsx("span",{className:"text-sm",children:a}),e.jsx(l,{size:"sm",variant:"ghost",onClick:()=>K(s),children:e.jsx(w,{className:"h-3 w-3"})})]},s))})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(l,{variant:"outline",onClick:()=>{x(!1),p(null)},children:"Cancel"}),e.jsxs(l,{onClick:L,children:[e.jsx(O,{className:"h-4 w-4 mr-2"}),"Save Facility"]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-8",children:[e.jsx("h3",{className:"text-2xl font-semibold",children:"Campus Statistics"}),e.jsxs(l,{onClick:()=>{g(!0),f(null),b({value:"",label:""})},className:"text-white",children:[e.jsx(P,{className:"h-4 w-4 mr-2"}),"Add Stat"]})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:y.map(a=>e.jsxs(S.div,{whileHover:{scale:1.05},className:"p-6 border rounded-lg bg-card text-center space-y-3",children:[e.jsx("div",{className:"text-3xl font-bold text-gold",children:a.value}),e.jsx("div",{className:"text-sm text-muted-foreground",children:a.label}),e.jsxs("div",{className:"flex justify-center space-x-2",children:[e.jsx(l,{size:"sm",variant:"ghost",onClick:()=>{f(a),b(a),g(!0)},children:e.jsx(T,{className:"h-4 w-4"})}),e.jsx(l,{size:"sm",variant:"ghost",onClick:()=>W(a.id),children:e.jsx(E,{className:"h-4 w-4 text-destructive"})})]})]},a.id))}),M&&e.jsxs(S.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"p-6 border rounded-lg bg-card space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h4",{className:"text-lg font-semibold",children:d?"Edit Stat":"Add Stat"}),e.jsx(l,{size:"sm",variant:"ghost",onClick:()=>{g(!1),f(null)},children:e.jsx(w,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Value"}),e.jsx(j,{value:o.value,onChange:a=>b({...o,value:a.target.value}),placeholder:"150"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium",children:"Label"}),e.jsx(j,{value:o.label,onChange:a=>b({...o,label:a.target.value}),placeholder:"Acres Campus"})]})]}),e.jsxs("div",{className:"flex justify-end space-x-2",children:[e.jsx(l,{variant:"outline",onClick:()=>{g(!1),f(null)},children:"Cancel"}),e.jsxs(l,{onClick:G,children:[e.jsx(O,{className:"h-4 w-4 mr-2"}),"Save Stat"]})]})]})]})]})};export{he as default};
