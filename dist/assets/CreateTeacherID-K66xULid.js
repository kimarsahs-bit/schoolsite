import{u as O,r as x,j as e,m as g,B as r,l as n}from"./index-vcAYm6vD.js";import{I as o}from"./input-CVoIJ2zH.js";import{C as E,a as k,b as A,c as P,d as D}from"./card-yB6fowr0.js";import{B as U}from"./badge-LmcNerN7.js";import{A as J}from"./arrow-left-DhQ25n61.js";import{U as B}from"./user-plus-DbdgVC5U.js";import{G as L}from"./graduation-cap-P36faES5.js";import{M as R}from"./mail-MYJrtdEn.js";import{P as H}from"./phone-CcjDqeo4.js";import{B as $}from"./book-open-Cck4FFnk.js";import{R as N}from"./refresh-cw-CAHL2gzR.js";import{U as Q}from"./users-DshTqfGB.js";import{C as K}from"./circle-check-big-DY665Rq5.js";import{C as j}from"./copy-Bub14O3W.js";import{E as V}from"./eye-off-DPvmRXZA.js";import{E as W}from"./eye-CF1wM1sA.js";import{S as X}from"./save-5ZuEQXRf.js";const je=()=>{const b=O(),[v,w]=x.useState(!1),[f,F]=x.useState(!1),[s,y]=x.useState({fullName:"",email:"",phone:"",subject:"",assignedClass:"",assignedSection:"",qualification:""}),[a,p]=x.useState(null),[l,C]=x.useState(!1),M=()=>{const t=Date.now().toString().slice(-6),i=Math.floor(Math.random()*1e3).toString().padStart(3,"0");return`TCH${t}${i}`},S=()=>{const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";let i="";for(let d=0;d<8;d++)i+=t.charAt(Math.floor(Math.random()*t.length));return i},c=t=>{const{name:i,value:d}=t.target;y(m=>({...m,[i]:d}))},q=()=>{if(!s.fullName||!s.email||!s.subject){n.error("Please fill in required fields (Name, Email, Subject)");return}const t={teacherId:M(),username:s.fullName,password:S(),email:s.email};p(t),n.success("Teacher credentials generated successfully!")},z=()=>{a&&(p({...a,password:S()}),n.success("New password generated!"))},u=(t,i)=>{navigator.clipboard.writeText(t).then(()=>{n.success(`${i} copied to clipboard!`)})},G=async()=>{if(!a){n.error("Please generate credentials first");return}w(!0);try{const t={id:a.teacherId,name:s.fullName,email:s.email,phone:s.phone||"N/A",subject:s.subject,assignedClass:s.assignedClass||"N/A",assignedSection:s.assignedSection||"N/A",qualification:s.qualification||"N/A",status:"active",createdAt:new Date().toISOString(),teacherId:a.teacherId},i=JSON.parse(localStorage.getItem("royal-academy-teachers")||"[]");i.some(h=>h.id===t.id||h.teacherId===t.teacherId)||localStorage.setItem("royal-academy-teachers",JSON.stringify([...i,t]));const m={...t,username:a.username,password:a.password,type:"teacher"},T=JSON.parse(localStorage.getItem("royal-academy-auth-teachers")||"[]");T.some(h=>h.id===m.id||h.teacherId===m.teacherId)||localStorage.setItem("royal-academy-auth-teachers",JSON.stringify([...T,m])),C(!0),n.success("Teacher account created successfully!")}catch(t){console.error("Error creating teacher:",t),n.error("Failed to create teacher account")}w(!1)},I=()=>{y({fullName:"",email:"",phone:"",subject:"",assignedClass:"",assignedSection:"",qualification:""}),p(null),C(!1)};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-royal via-royal/90 to-gold/20 p-4",children:e.jsxs("div",{className:"container mx-auto max-w-4xl",children:[e.jsxs(g.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx(r,{variant:"ghost",size:"icon",onClick:()=>b("/principal-dashboard"),className:"rounded-full",children:e.jsx(J,{className:"h-4 w-4"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold text-white",children:"Create New Teacher ID"}),e.jsx("p",{className:"text-white/80",children:"Generate teacher login credentials and create account"})]})]}),e.jsxs(U,{variant:"secondary",className:"bg-white/10 text-white border-white/20",children:[e.jsx(B,{className:"h-4 w-4 mr-2"}),"New Teacher"]})]}),e.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[e.jsx(g.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.1},children:e.jsxs(E,{className:"bg-card/95 backdrop-blur-md border-border/50",children:[e.jsxs(k,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(L,{className:"h-5 w-5"}),"Teacher Information"]}),e.jsx(P,{children:"Fill in the teacher's details to generate login credentials"})]}),e.jsxs(D,{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Full Name *"}),e.jsx(o,{name:"fullName",value:s.fullName,onChange:c,placeholder:"Enter teacher's full name",disabled:l})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Email Address *"}),e.jsxs("div",{className:"relative",children:[e.jsx(R,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(o,{name:"email",type:"email",value:s.email,onChange:c,placeholder:"teacher@example.com",className:"pl-10",disabled:l})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(H,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(o,{name:"phone",value:s.phone,onChange:c,placeholder:"Enter your phone number",className:"pl-10",disabled:l})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Subject *"}),e.jsxs("div",{className:"relative",children:[e.jsx($,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(o,{name:"subject",value:s.subject,onChange:c,placeholder:"Mathematics, Physics, English, etc.",className:"pl-10",disabled:l})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Assigned Class"}),e.jsx(o,{name:"assignedClass",value:s.assignedClass,onChange:c,placeholder:"Grade 10, 11, 12",disabled:l})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Section"}),e.jsx(o,{name:"assignedSection",value:s.assignedSection,onChange:c,placeholder:"A, B, C",disabled:l})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Qualification"}),e.jsx(o,{name:"qualification",value:s.qualification,onChange:c,placeholder:"B.Ed, M.Sc, Ph.D, etc.",disabled:l})]}),!l&&e.jsxs(r,{onClick:q,className:"w-full mt-6",disabled:!s.fullName||!s.email||!s.subject,children:[e.jsx(N,{className:"h-4 w-4 mr-2"}),"Generate Login Credentials"]})]})]})}),e.jsx(g.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.2},children:e.jsxs(E,{className:"bg-card/95 backdrop-blur-md border-border/50",children:[e.jsxs(k,{children:[e.jsxs(A,{className:"flex items-center gap-2",children:[e.jsx(Q,{className:"h-5 w-5"}),"Generated Credentials",l&&e.jsx(K,{className:"h-5 w-5 text-green-500"})]}),e.jsx(P,{children:a?"Teacher login credentials generated successfully":"Fill the form and generate credentials"})]}),e.jsx(D,{children:a?e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 bg-muted/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Teacher ID"}),e.jsx(r,{variant:"ghost",size:"sm",onClick:()=>u(a.teacherId,"Teacher ID"),children:e.jsx(j,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"font-mono text-lg font-bold text-primary",children:a.teacherId})]}),e.jsxs("div",{className:"p-4 bg-muted/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Username"}),e.jsx(r,{variant:"ghost",size:"sm",onClick:()=>u(a.username,"Username"),children:e.jsx(j,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"font-mono text-lg",children:a.username})]}),e.jsxs("div",{className:"p-4 bg-muted/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Password"}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(r,{variant:"ghost",size:"sm",onClick:()=>F(!f),children:f?e.jsx(V,{className:"h-4 w-4"}):e.jsx(W,{className:"h-4 w-4"})}),e.jsx(r,{variant:"ghost",size:"sm",onClick:()=>u(a.password,"Password"),children:e.jsx(j,{className:"h-4 w-4"})}),!l&&e.jsx(r,{variant:"ghost",size:"sm",onClick:z,children:e.jsx(N,{className:"h-4 w-4"})})]})]}),e.jsx("p",{className:"font-mono text-lg",children:f?a.password:"••••••••"})]}),e.jsxs("div",{className:"p-4 bg-muted/20 rounded-lg",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("label",{className:"text-sm font-medium",children:"Email"}),e.jsx(r,{variant:"ghost",size:"sm",onClick:()=>u(a.email,"Email"),children:e.jsx(j,{className:"h-4 w-4"})})]}),e.jsx("p",{className:"font-mono text-lg",children:a.email})]}),e.jsx("div",{className:"flex gap-2 pt-4",children:l?e.jsxs(e.Fragment,{children:[e.jsx(r,{onClick:()=>b("/manage-teacher-id"),className:"flex-1",children:"Manage Teacher IDs"}),e.jsx(r,{variant:"outline",onClick:I,children:"Create Another"})]}):e.jsxs(e.Fragment,{children:[e.jsxs(r,{onClick:G,disabled:v,className:"flex-1",children:[v?e.jsx(N,{className:"h-4 w-4 mr-2 animate-spin"}):e.jsx(X,{className:"h-4 w-4 mr-2"}),"Create Teacher Account"]}),e.jsx(r,{variant:"outline",onClick:I,children:"Reset"})]})})]}):e.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[e.jsx(B,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),e.jsx("p",{children:"Fill in the teacher information and generate credentials to see them here"})]})})]})})]})]})})};export{je as default};
