import{c as _e,r as o,j as e,m as u,B as h,X as A,u as Ke,s as R,a as ke}from"./index-vcAYm6vD.js";import{u as Qe}from"./useTranslation-FKcwN8er.js";import{I as Xe}from"./input-CVoIJ2zH.js";import{T as Ze}from"./textarea-B1JbTjEM.js";import es from"./DocumentViewer-B-12NAZG.js";import{V as ce,M as ss,b as ts,a as as}from"./video-D4_ojB7t.js";import{M as Ce}from"./monitor-DiJ6JYFs.js";import{U as De}from"./users-DshTqfGB.js";import{C as E}from"./clock-B1zj3MLd.js";import{B as me}from"./book-open-Cck4FFnk.js";import{T as ls}from"./trophy-B-XvrowL.js";import{C as z}from"./calendar-Cyjlwh6t.js";import{A as rs}from"./award-Bdl_Spfw.js";import{U as ns}from"./user-BFMo7NJs.js";import{L as os}from"./log-out-mu1-Tcny.js";import{B as ds}from"./bell-D_AoMh8q.js";import{C as is}from"./chart-column-DPWbzElM.js";import{F as Y}from"./file-text-v4HcC1Hx.js";import{S as F}from"./star-C15iVDB7.js";import{G as cs}from"./graduation-cap-P36faES5.js";import{M as ms}from"./map-pin-WXVSP-9y.js";import{C as Ae}from"./credit-card-C0BXHBU5.js";import{C as xs}from"./circle-check-big-DY665Rq5.js";import{C as us}from"./circle-alert-D_zFa0RS.js";import{D as Re}from"./dollar-sign-B_CmodGE.js";import"./button-variants-BtDv6DLU.js";import"./zoom-out-Bm9_1osx.js";import"./download-DqcvXZsi.js";import"./copy-Bub14O3W.js";import"./share-2-6yjGy1yT.js";/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=_e("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]),gs=({studentClass:D,studentSection:t,studentName:V,studentId:I,onClose:G})=>{var W;const[q,B]=o.useState([]),[g,P]=o.useState(null);o.useEffect(()=>{const f=()=>{const b=JSON.parse(localStorage.getItem("royal-academy-live-broadcasts")||"[]");console.log("[LiveClassViewer] All broadcasts:",b),console.log("[LiveClassViewer] Looking for class:",D,"section:",t);const N=b.filter(w=>w.teacherClass===D&&w.teacherSection===t&&w.isActive);console.log("[LiveClassViewer] My classes:",N),B(N),g&&(N.find(_=>_.id===g.id)||(P(null),alert("The teacher has ended the class.")))};f();const v=setInterval(f,2e3);return()=>clearInterval(v)},[D,t,g]);const U=f=>{const b=JSON.parse(localStorage.getItem("royal-academy-live-broadcasts")||"[]").map(N=>{if(N.id===f.id){const w=N.viewers||[];return w.includes(I)||w.push(I),{...N,viewers:w}}return N});localStorage.setItem("royal-academy-live-broadcasts",JSON.stringify(b)),P(f)},J=()=>{if(g){const v=JSON.parse(localStorage.getItem("royal-academy-live-broadcasts")||"[]").map(b=>{if(b.id===g.id){const N=(b.viewers||[]).filter(w=>w!==I);return{...b,viewers:N}}return b});localStorage.setItem("royal-academy-live-broadcasts",JSON.stringify(v))}P(null)};o.useEffect(()=>()=>{if(g){const v=JSON.parse(localStorage.getItem("royal-academy-live-broadcasts")||"[]").map(b=>{if(b.id===g.id){const N=(b.viewers||[]).filter(w=>w!==I);return{...b,viewers:N}}return b});localStorage.setItem("royal-academy-live-broadcasts",JSON.stringify(v))}},[g,I]);const ee=f=>{const v=new Date(f).getTime(),b=new Date().getTime();return`${Math.floor((b-v)/1e3/60)} min ago`};return e.jsx("div",{className:"fixed inset-0 bg-black/90 z-50 flex items-center justify-center p-4",children:e.jsx(u.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-card rounded-xl w-full max-w-6xl max-h-[90vh] overflow-y-auto",children:e.jsxs("div",{className:"p-6",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(ce,{className:"h-6 w-6 text-royal"}),e.jsx("h2",{className:"text-2xl font-bold text-foreground",children:g?"ðŸ”´ Live Class":"Join Live Classes"})]}),e.jsx(h,{variant:"ghost",onClick:()=>{J(),G()},children:e.jsx(A,{className:"h-5 w-5"})})]}),g?e.jsxs("div",{children:[e.jsxs("div",{className:"mb-4 p-4 bg-muted/20 rounded-lg border border-border/30",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("div",{children:[e.jsx("h3",{className:"font-semibold text-foreground text-lg",children:g.title}),e.jsxs("p",{className:"text-sm text-muted-foreground",children:["Teacher: ",g.teacherName]})]}),e.jsx("span",{className:"bg-red-500 text-white px-3 py-1 rounded-full text-sm animate-pulse",children:"ðŸ”´ LIVE"})]}),g.description&&e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:g.description})]}),e.jsxs("div",{className:"mb-6 bg-black rounded-lg overflow-hidden aspect-video relative flex items-center justify-center",children:[g.isCameraOn||g.isScreenSharing?e.jsxs("div",{className:"text-center text-white",children:[e.jsx(ce,{className:"h-16 w-16 mx-auto mb-4 animate-pulse"}),e.jsx("p",{className:"text-xl font-semibold mb-2",children:g.isScreenSharing?"Teacher is sharing screen":"Teacher's Camera is ON"}),e.jsxs("p",{className:"text-sm text-gray-400",children:[g.teacherName," is teaching live"]}),e.jsxs("div",{className:"flex items-center justify-center space-x-4 mt-4",children:[g.isScreenSharing&&e.jsxs("div",{className:"flex items-center space-x-2 bg-blue-500/20 px-3 py-1 rounded",children:[e.jsx(Ce,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Screen Sharing"})]}),g.isMicOn?e.jsxs("div",{className:"flex items-center space-x-2 bg-green-500/20 px-3 py-1 rounded",children:[e.jsx(ss,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Mic On"})]}):e.jsxs("div",{className:"flex items-center space-x-2 bg-red-500/20 px-3 py-1 rounded",children:[e.jsx(ts,{className:"h-4 w-4"}),e.jsx("span",{className:"text-sm",children:"Mic Off"})]})]})]}):e.jsxs("div",{className:"text-center text-white",children:[e.jsx(as,{className:"h-16 w-16 mx-auto mb-4 text-gray-500"}),e.jsx("p",{className:"text-lg",children:"Teacher's camera is off"}),e.jsx("p",{className:"text-sm text-gray-400",children:"Waiting for teacher to turn on camera or share screen"})]}),e.jsx("div",{className:"absolute top-4 left-4 bg-red-500 text-white px-3 py-1 rounded-full text-sm font-bold animate-pulse",children:"ðŸ”´ LIVE"}),e.jsxs("div",{className:"absolute top-4 right-4 bg-black/50 text-white px-3 py-1 rounded-lg flex items-center space-x-2",children:[e.jsx(De,{className:"h-4 w-4"}),e.jsxs("span",{children:[((W=g.viewers)==null?void 0:W.length)||0," watching"]})]})]}),e.jsx(h,{onClick:J,variant:"destructive",className:"w-full",children:"Leave Class"})]}):e.jsxs("div",{children:[e.jsx("div",{className:"mb-4 p-3 bg-blue-500/10 border border-blue-500/30 rounded-lg",children:e.jsxs("p",{className:"text-sm text-foreground",children:["Showing live classes for: ",e.jsxs("strong",{children:["Class ",D,t]})]})}),q.length>0?e.jsx("div",{className:"space-y-4",children:q.map(f=>{var v;return e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-muted/20 rounded-lg p-6 border border-border/30 hover:border-royal transition-all",children:[e.jsx("div",{className:"flex items-start justify-between mb-4",children:e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("h3",{className:"font-semibold text-foreground text-lg",children:f.title}),e.jsx("span",{className:"bg-red-500 text-white px-2 py-1 rounded text-xs animate-pulse",children:"ðŸ”´ LIVE"})]}),e.jsxs("p",{className:"text-sm text-muted-foreground mb-2",children:["Teacher: ",f.teacherName]}),f.description&&e.jsx("p",{className:"text-sm text-foreground mb-3",children:f.description}),e.jsxs("div",{className:"flex items-center space-x-4 text-xs text-muted-foreground",children:[e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(E,{className:"h-3 w-3"}),e.jsxs("span",{children:["Started ",ee(f.startedAt)]})]}),e.jsxs("div",{className:"flex items-center space-x-1",children:[e.jsx(De,{className:"h-3 w-3"}),e.jsxs("span",{children:[((v=f.viewers)==null?void 0:v.length)||0," watching"]})]}),f.isScreenSharing&&e.jsxs("div",{className:"flex items-center space-x-1 text-blue-400",children:[e.jsx(Ce,{className:"h-3 w-3"}),e.jsx("span",{children:"Screen Sharing"})]})]})]})}),e.jsx(h,{onClick:()=>U(f),className:"w-full bg-gradient-to-r from-green-500 to-emerald-500 text-white",children:"Join Now"})]},f.id)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(ce,{className:"h-16 w-16 mx-auto text-muted-foreground mb-4 opacity-50"}),e.jsx("h3",{className:"text-lg font-semibold text-foreground mb-2",children:"No Live Classes Right Now"}),e.jsxs("p",{className:"text-muted-foreground",children:["Your teachers from Class ",D,t," haven't started any live classes yet."]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Check back later or ask your teacher to start a live session."})]})]})]})})})},Zs=()=>{const{t:D}=Qe(),[t,V]=o.useState(null),[I,G]=o.useState("dashboard"),[q,B]=o.useState(!1),[g,P]=o.useState(!1),[U,J]=o.useState([]),[ee,W]=o.useState(!1),[f,v]=o.useState(!1),[b,N]=o.useState(null),[w,_]=o.useState([]),[T,xe]=o.useState(new Date),[Me,se]=o.useState(!1),[ue,he]=o.useState([]),[Ie,te]=o.useState(!1),[K,ae]=o.useState([]),[Pe,ge]=o.useState(!1),[le,ps]=o.useState([]),[H,re]=o.useState([]),[ne,oe]=o.useState([]),[Te,Q]=o.useState(!1),[k,X]=o.useState(null),[M,O]=o.useState({amount:"",paymentMethod:"online",notes:""}),[pe,fe]=o.useState([]),[Oe,be]=o.useState(!1),[ze,Ne]=o.useState([]),ye=["January","February","March","April","May","June","July","August","September","October","November","December"],Fe=new Date().getFullYear(),[fs,bs]=o.useState({name:(t==null?void 0:t.fullName)||"",photo:"",bio:"",phone:"",interests:""}),[Ns,ys]=o.useState(!1),[js,vs]=o.useState(""),C=Ke(),de=()=>{if(t){const r=JSON.parse(localStorage.getItem("royal-academy-homework")||"[]").filter(n=>n.class===t.class&&n.section===t.section);he(r)}},$=()=>{if(t){console.log("Loading remarks for student:",t);const s=JSON.parse(localStorage.getItem("royal-academy-auth-students")||"[]");console.log("Auth students:",s);let r=s.find(n=>{const l=n.email===t.email||n.studentId===t.id||n.id===t.id||n.name===t.fullName||n.fullName===t.fullName||n.rollNumber===t.rollNumber;return l&&console.log("Found matching auth student:",n),l});if(!r){console.log("Not found in auth students, checking regular students...");const n=JSON.parse(localStorage.getItem("royal-academy-students")||"[]");console.log("All students:",n),r=n.find(l=>{const a=l.email===t.email||l.id===t.id||l.name===t.fullName||l.fullName===t.fullName||l.rollNumber===t.rollNumber;return a&&console.log("Found matching regular student:",l),a})}r&&r.remarks&&r.remarks.length>0?(console.log("Found remarks:",r.remarks),ae(r.remarks)):(console.log("No remarks found for student"),ae([]))}},Je=s=>{if(!t)return null;let n=JSON.parse(localStorage.getItem("royal-academy-students")||"[]").find(l=>l.id&&l.id===t.id||l.email&&l.email===t.email||l.rollNumber&&l.rollNumber===t.rollNumber||l.fullName&&l.fullName===t.fullName);return(!n||!n.attendance)&&(n=JSON.parse(localStorage.getItem("royal-academy-auth-students")||"[]").find(a=>a.studentId&&a.studentId===t.id||a.id&&a.id===t.id||a.email&&a.email===t.email||a.rollNumber&&a.rollNumber===t.rollNumber||a.fullName&&a.fullName===t.fullName)),!n||!n.attendance?null:n.attendance.find(l=>l.date===s)},je=()=>{if(!t)return{present:0,absent:0,late:0,holidays:0,percentage:0};const s=new Date,r=s.getMonth(),n=s.getFullYear();let a=JSON.parse(localStorage.getItem("royal-academy-students")||"[]").find(S=>S.id&&S.id===t.id||S.email&&S.email===t.email||S.rollNumber&&S.rollNumber===t.rollNumber||S.fullName&&S.fullName===t.fullName);if((!a||!a.attendance)&&(a=JSON.parse(localStorage.getItem("royal-academy-auth-students")||"[]").find(j=>j.studentId&&j.studentId===t.id||j.id&&j.id===t.id||j.email&&j.email===t.email||j.rollNumber&&j.rollNumber===t.rollNumber||j.fullName&&j.fullName===t.fullName)),!a||!a.attendance)return{present:0,absent:0,late:0,holidays:0,percentage:0};let i=0,m=0,y=0,p=0;const d=new Date(n,r+1,0).getDate();for(let S=1;S<=d;S++){const j=new Date(n,r,S),Ye=j.getFullYear(),Ve=String(j.getMonth()+1).padStart(2,"0"),Ge=String(j.getDate()).padStart(2,"0"),Se=`${Ye}-${Ve}-${Ge}`,qe=j.getDay()===0,Ue=w.includes(Se);if(qe||Ue)p++;else{const Z=a.attendance.find(We=>We.date===Se);Z&&(Z.status==="present"?i++:Z.status==="absent"?m++:Z.status==="late"&&y++)}}const c=d-p,x=c>0?Math.round((i+y)/c*100):0;return{present:i,absent:m,late:y,holidays:p,percentage:x}},ve=s=>{const n=JSON.parse(localStorage.getItem("royal-academy-fee-records")||"[]").filter(i=>i.studentId===s);re(n);const a=JSON.parse(localStorage.getItem("royal-academy-payment-requests")||"[]").filter(i=>i.studentId===s);oe(a)},ie=()=>{const s=H.filter(a=>a.status==="pending"),r=H.filter(a=>a.status==="paid"),n=s.reduce((a,i)=>a+i.amount,0),l=r.reduce((a,i)=>a+i.amount,0);return{pendingFees:s,paidFees:r,totalPending:n,totalPaid:l,pendingMonths:s.map(a=>a.month),paidMonths:r.map(a=>a.month)}},$e=s=>{X(s),O({amount:s.amount.toString(),paymentMethod:"online",notes:""}),Q(!0)},Le=async()=>{if(!k||!t){alert("Payment information is missing");return}if(M.paymentMethod==="razorpay"){const s=document.createElement("script");s.src="https://checkout.razorpay.com/v1/checkout.js",s.async=!0,s.onload=()=>{const r={key:"rzp_test_1DP5mmOlF5G5ag",amount:k.amount*100,currency:"INR",name:"Royal Academy",description:`Fee Payment - ${k.months.join(", ")}`,prefill:{name:t.fullName,email:t.email,contact:""},theme:{color:"#FFB81C"},handler:async function(l){console.log("[StudentDashboard] Razorpay Payment successful:",l);const a=H.map(p=>k.months.includes(p.month)&&p.status==="pending"?{...p,status:"paid",paymentDate:new Date().toISOString()}:p);re(a);const i=JSON.parse(localStorage.getItem("royal-academy-fee-records")||"[]").map(p=>a.find(c=>c.id===p.id)||p);localStorage.setItem("royal-academy-fee-records",JSON.stringify(i)),await ke("royal-academy-fee-records",i);const m=ne.map(p=>p.id===k.id?{...p,status:"paid"}:p);oe(m);const y=JSON.parse(localStorage.getItem("royal-academy-payment-requests")||"[]").map(p=>m.find(c=>c.id===p.id)||p);localStorage.setItem("royal-academy-payment-requests",JSON.stringify(y)),await ke("royal-academy-payment-requests",y),alert(`âœ… Payment Successful!

Payment ID: ${l.razorpay_payment_id}
Amount: â‚¹${k.amount}
Months: ${k.months.join(", ")}

Your fees have been updated.`),Q(!1),X(null),O({amount:"",paymentMethod:"online",notes:""})},modal:{ondismiss:()=>{alert("Payment cancelled. You can try again.")}}};new window.Razorpay(r).open()},s.onerror=()=>{alert("Failed to load Razorpay. Please try again.")},document.head.appendChild(s)}else alert("Please select Razorpay as payment method")};o.useEffect(()=>{const s=localStorage.getItem("currentStudent"),r=localStorage.getItem("studentEmail");if(console.log("[StudentDashboard] Loading student data:",{hasCurrentStudent:!!s,studentEmail:r}),s)try{const l=JSON.parse(s),a={id:l.studentId||l.id,fullName:l.username||l.name||l.fullName,email:l.email||r,rollNumber:l.rollNumber||"N/A",class:l.class||"N/A",section:l.section||"A",status:l.status||"active"};V(a);const m=JSON.parse(localStorage.getItem("royal-academy-student-reports")||"[]").filter(y=>y.studentId===a.id);J(m),ve(a.id);return}catch{console.log("Error parsing currentStudent, falling back to database search")}if(r){let a=JSON.parse(localStorage.getItem("royal-academy-students")||"[]").find(i=>i.email===r);if(!a){const m=JSON.parse(localStorage.getItem("royal-academy-auth-students")||"[]").find(y=>y.email===r);m&&(a={id:m.studentId||m.id,fullName:m.username||m.name||m.fullName,email:m.email,rollNumber:m.rollNumber||"N/A",class:m.class||"N/A",section:m.section||"A",status:m.status||"active"})}if(a){if(!a.fullName&&a.email){const y=localStorage.getItem("studentName");y?a.fullName=y:a.fullName=a.email.split("@")[0]}V(a);const m=JSON.parse(localStorage.getItem("royal-academy-student-reports")||"[]").filter(y=>y.studentId===a.id);J(m),ve(a.id)}}const n=localStorage.getItem("royal-academy-holidays");n&&_(JSON.parse(n))},[C]),o.useEffect(()=>{if(de(),$(),t){const s=localStorage.getItem("royal-academy-principal-remarks");if(s){const l=JSON.parse(s).filter(a=>a.studentId===t.id);fe(l)}const r=localStorage.getItem("royal-academy-student-notifications");if(r){const l=JSON.parse(r).filter(a=>a.targetType==="all"||a.targetType==="class"&&a.targetClass===t.class||a.targetType==="section"&&a.targetClass===t.class&&a.targetSection===t.section||a.targetType==="student"&&a.targetStudentId===t.id);Ne(l)}}},[t]),o.useEffect(()=>{if(!t)return;console.log("[StudentDashboard] Setting up real-time subscriptions for student:",t.id);const s=R("royal-academy-students",d=>{console.log("[StudentDashboard] Students data updated from Supabase - using fresh data"),localStorage.setItem("royal-academy-students",JSON.stringify(d));const c=d.find(x=>x.email===t.email||x.id===t.id);c&&(V({id:c.id,fullName:c.fullName||c.name,email:c.email,rollNumber:c.rollNumber||"N/A",class:c.class||"N/A",section:c.section||"A",status:c.status||"active"}),$())}),r=R("royal-academy-holidays",d=>{console.log("[StudentDashboard] Holidays updated from Supabase"),_(d)}),n=R("royal-academy-homework",d=>{console.log("[StudentDashboard] Homework/Assignments updated from Supabase"),localStorage.setItem("royal-academy-homework",JSON.stringify(d));const c=d.filter(x=>x.class===t.class&&x.section===t.section);he(c)}),l=R("royal-academy-student-reports",d=>{console.log("[StudentDashboard] Reports/Grades updated from Supabase"),localStorage.setItem("royal-academy-student-reports",JSON.stringify(d));const c=d.filter(x=>x.studentId===t.id);J(c)}),a=R("royal-academy-student-notifications",d=>{console.log("[StudentDashboard] Student notifications updated from Supabase"),localStorage.setItem("royal-academy-student-notifications",JSON.stringify(d));const c=d.filter(x=>x.targetType==="all"||x.targetType==="class"&&x.targetClass===t.class||x.targetType==="section"&&x.targetClass===t.class&&x.targetSection===t.section||x.targetType==="student"&&x.targetStudentId===t.id);Ne(c)}),i=R("royal-academy-principal-remarks",d=>{console.log("[StudentDashboard] Principal remarks updated from Supabase"),localStorage.setItem("royal-academy-principal-remarks",JSON.stringify(d));const c=d.filter(x=>x.studentId===t.id);fe(c)}),m=R("royal-academy-auth-students",d=>{console.log("[StudentDashboard] Auth students updated from Supabase"),localStorage.setItem("royal-academy-auth-students",JSON.stringify(d)),$()}),y=R("royal-academy-fee-records",d=>{console.log("[StudentDashboard] Fee records updated from Supabase"),localStorage.setItem("royal-academy-fee-records",JSON.stringify(d));const c=d.filter(x=>x.studentId===t.id);re(c)}),p=R("royal-academy-payment-requests",d=>{console.log("[StudentDashboard] Payment requests updated from Supabase"),localStorage.setItem("royal-academy-payment-requests",JSON.stringify(d));const c=d.filter(x=>x.studentId===t.id);oe(c)});return()=>{console.log("[StudentDashboard] Cleaning up real-time subscriptions"),s(),r(),n(),l(),a(),i(),m(),y(),p()}},[t]),o.useEffect(()=>{if(t){const s=setInterval(()=>{$()},5e3);return()=>clearInterval(s)}},[t]);const[L,we]=o.useState({present:0,absent:0,late:0,holidays:0,percentage:0});o.useEffect(()=>{we(je())},[t,w]),o.useEffect(()=>{we(je())},[T]);const Ee=()=>{localStorage.removeItem("studentAuth"),localStorage.removeItem("studentEmail"),localStorage.removeItem("studentId"),localStorage.removeItem("studentName"),sessionStorage.clear(),setTimeout(()=>{window.location.href="/"},100)},Be=[{icon:me,label:"Subjects",value:"8",change:"Active courses"},{icon:ls,label:"Grade Average",value:"85.5%",change:"+2.3% this term"},{icon:z,label:"Attendance",value:`${L.percentage}%`,change:"This month"},{icon:rs,label:"Assignments",value:"12/15",change:"Completed"}],He=[{title:"Mathematics Test",date:"Tomorrow",time:"10:00 AM",type:"exam"},{title:"Science Project Due",date:"Dec 15",time:"11:59 PM",type:"assignment"},{title:"Parent-Teacher Meeting",date:"Dec 18",time:"2:00 PM",type:"meeting"},{title:"Winter Break Starts",date:"Dec 22",time:"All Day",type:"holiday"}];return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/20",children:[e.jsxs(u.header,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"relative bg-gradient-to-r from-slate-950 via-blue-950 to-slate-950 backdrop-blur-xl border-b border-gradient-to-r from-gold/30 via-blue-400/30 to-gold/30 sticky top-0 z-50 shadow-2xl shadow-black/50 overflow-hidden",children:[e.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[e.jsx("div",{className:"absolute -left-40 -top-40 w-80 h-80 bg-royal/10 rounded-full blur-3xl animate-pulse"}),e.jsx("div",{className:"absolute -right-40 -bottom-40 w-80 h-80 bg-gold/10 rounded-full blur-3xl animate-pulse",style:{animationDelay:"1s"}}),e.jsx("div",{className:"absolute top-1/2 left-1/2 w-96 h-40 bg-cyan-500/5 rounded-full blur-3xl -translate-x-1/2 -translate-y-1/2"})]}),e.jsx("div",{className:"container-wide py-3 sm:py-5 px-3 sm:px-4 relative z-10",children:e.jsxs("div",{className:"flex items-center justify-between gap-1 sm:gap-2",children:[e.jsxs("div",{className:"flex items-center space-x-2 sm:space-x-4 min-w-0 flex-1",children:[e.jsx("div",{className:"relative flex-shrink-0",children:e.jsxs("div",{className:"w-10 h-10 sm:w-12 sm:h-12 rounded-full bg-gradient-to-br from-gold via-yellow-400 to-yellow-500 flex items-center justify-center shadow-lg shadow-gold/50 animate-glow relative",children:[e.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-gold/30 animate-pulse"}),e.jsx("div",{className:"absolute -inset-1 rounded-full border border-royal/20 animate-spin",style:{animationDuration:"3s"}}),e.jsx(ns,{className:"h-5 w-5 sm:h-6 sm:w-6 text-slate-900 font-bold relative z-10"})]})}),e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsx("h1",{className:"text-lg sm:text-2xl font-heading font-bold text-white truncate drop-shadow-lg",children:(t==null?void 0:t.fullName)||"Student"}),e.jsxs("p",{className:"text-[10px] sm:text-sm text-white/80 hidden sm:block",children:["Welcome back, ",(t==null?void 0:t.fullName)||"Student"]})]})]}),e.jsxs("div",{className:"hidden lg:flex items-center space-x-6 mr-6",children:[e.jsxs("button",{onClick:()=>C("/"),className:"relative text-gold/70 hover:text-gold transition-all text-sm font-medium group",children:["Home",e.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-gold to-cyan-400 group-hover:w-full transition-all duration-300"})]}),e.jsxs("button",{onClick:()=>C("/about"),className:"relative text-gold/70 hover:text-gold transition-all text-sm font-medium group",children:["About",e.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-gold to-cyan-400 group-hover:w-full transition-all duration-300"})]}),e.jsxs("button",{onClick:()=>C("/courses"),className:"relative text-gold/70 hover:text-gold transition-all text-sm font-medium group",children:["Courses",e.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-gold to-cyan-400 group-hover:w-full transition-all duration-300"})]}),e.jsxs("button",{onClick:()=>C("/admissions"),className:"relative text-gold/70 hover:text-gold transition-all text-sm font-medium group",children:["Admissions",e.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-gold to-cyan-400 group-hover:w-full transition-all duration-300"})]}),e.jsxs("button",{onClick:()=>C("/gallery"),className:"relative text-gold/70 hover:text-gold transition-all text-sm font-medium group",children:["Gallery",e.jsx("span",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-gold to-cyan-400 group-hover:w-full transition-all duration-300"})]})]}),e.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-4",children:[e.jsxs("div",{className:"hidden md:flex items-center space-x-2 text-sm font-medium",children:[e.jsxs("span",{className:"bg-gradient-to-r from-gold/70 to-cyan-400/70 bg-clip-text text-transparent",children:["Class ",(t==null?void 0:t.class)||"",(t==null?void 0:t.section)||""]}),e.jsx("span",{className:"text-gold/30",children:"â€¢"}),e.jsxs("span",{className:"bg-gradient-to-r from-gold/70 to-cyan-400/70 bg-clip-text text-transparent",children:["Roll: ",(t==null?void 0:t.rollNumber)||""]})]}),e.jsxs(h,{variant:"outline",size:"sm",onClick:Ee,className:"flex items-center space-x-1 sm:space-x-2 h-9 sm:h-10 px-2 sm:px-3 border-2 border-gold/50 text-gold hover:bg-gradient-to-r hover:from-gold/20 hover:to-cyan-400/20 hover:text-gold hover:border-gold transition-all duration-300 hover:shadow-lg hover:shadow-gold/50",children:[e.jsx(os,{className:"h-4 w-4"}),e.jsx("span",{className:"hidden sm:inline",children:"Logout"})]})]})]})}),e.jsx("div",{className:"absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-transparent via-gold to-cyan-400 to-transparent"})]}),e.jsxs("div",{className:"container-wide py-4 sm:py-8 px-3 sm:px-6",children:[e.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"grid grid-cols-2 lg:grid-cols-4 gap-3 sm:gap-6 mb-4 sm:mb-8",children:Be.map((s,r)=>e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1+r*.1},className:"bg-card/95 backdrop-blur-md rounded-xl p-3 sm:p-6 border border-border/50 hover:shadow-lg transition-all duration-200",children:[e.jsx("div",{className:"flex items-center justify-between mb-2 sm:mb-4",children:e.jsx("div",{className:"w-8 h-8 sm:w-12 sm:h-12 rounded-lg bg-gradient-to-r from-royal/20 to-gold/20 flex items-center justify-center",children:e.jsx(s.icon,{className:"h-4 w-4 sm:h-6 sm:w-6 text-royal"})})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-lg sm:text-2xl font-bold text-foreground mb-1",children:s.value}),e.jsx("p",{className:"text-xs sm:text-sm font-medium text-foreground mb-1",children:s.label}),e.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground",children:s.change})]})]},s.label))}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-4 sm:gap-8",children:[e.jsx(u.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{delay:.3},children:e.jsxs("div",{className:"bg-card/95 backdrop-blur-md rounded-xl p-4 sm:p-6 border border-border/50",children:[e.jsx("h2",{className:"text-lg font-heading font-bold text-foreground mb-6",children:"Upcoming Events"}),e.jsx("div",{className:"space-y-4",children:He.map((s,r)=>e.jsx(u.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.4+r*.1},className:"p-3 rounded-lg border border-border/30 hover:bg-muted/20 transition-colors",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:`w-3 h-3 rounded-full ${s.type==="exam"?"bg-red-500":s.type==="assignment"?"bg-yellow-500":s.type==="meeting"?"bg-blue-500":"bg-green-500"}`}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium text-foreground text-sm truncate",children:s.title}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:[s.date," â€¢ ",s.time]})]})]})},r))})]})}),e.jsx(u.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{delay:.4},children:e.jsxs("div",{className:"bg-card/95 backdrop-blur-md rounded-xl p-4 sm:p-6 border border-border/50",children:[e.jsx("h2",{className:"text-lg font-heading font-bold text-foreground mb-6",children:"Academic Progress"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"p-4 rounded-lg bg-muted/20 border border-border/30",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-foreground",children:"Mathematics"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"92%"})]}),e.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-green-500 to-emerald-500 h-2 rounded-full",style:{width:"92%"}})})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-muted/20 border border-border/30",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-foreground",children:"Physics"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"88%"})]}),e.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-cyan-500 h-2 rounded-full",style:{width:"88%"}})})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-muted/20 border border-border/30",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-foreground",children:"English"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"85%"})]}),e.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-purple-500 to-pink-500 h-2 rounded-full",style:{width:"85%"}})})]}),e.jsxs("div",{className:"p-4 rounded-lg bg-muted/20 border border-border/30",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-sm font-medium text-foreground",children:"Chemistry"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:"90%"})]}),e.jsx("div",{className:"w-full bg-muted rounded-full h-2",children:e.jsx("div",{className:"bg-gradient-to-r from-orange-500 to-red-500 h-2 rounded-full",style:{width:"90%"}})})]})]})]})})]}),e.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},className:"mt-4 sm:mt-8",children:e.jsxs("div",{className:"bg-card/95 backdrop-blur-md rounded-lg lg:rounded-xl p-4 sm:p-6 border border-gold/40",children:[e.jsx("h2",{className:"text-base sm:text-lg lg:text-xl font-heading font-bold bg-gradient-to-r from-gold via-yellow-400 to-sky-400 bg-clip-text text-transparent mb-4 sm:mb-6",children:D("quickActions")}),e.jsx("div",{className:"grid grid-cols-2 gap-2 sm:grid-cols-3 md:grid-cols-4 lg:grid-cols-6 xl:grid-cols-8 sm:gap-3 lg:gap-4",children:[{title:D("aiAssistant"),desc:"Smart assistant",icon:hs,action:()=>C("/student-ai-assistant")},{title:D("notificationsPanelTitle"),desc:"Your notifications",icon:ds,action:()=>C("/student-notifications"),badge:ze.filter(s=>s.status==="unread").length},{title:D("viewGrades"),desc:"Reports & grades",icon:is,action:()=>B(!0)},{title:"Assignments",desc:"View assignments",icon:Y,action:()=>{de(),se(!0)}},{title:"Attendance",desc:"My attendance",icon:z,action:()=>P(!0)},{title:"Remarks",desc:"Teacher remarks",icon:F,action:()=>{setTimeout(()=>{$()},100),te(!0)}},{title:"Timetable",desc:"Class schedule",icon:E,action:()=>C("/student-timetable")},{title:"AI Quiz",desc:"Practice quizzes",icon:cs,action:()=>C("/student-quiz")},{title:"Track Bus",desc:"Live bus tracking",icon:ms,action:()=>C("/student-track-bus")},{title:"Fees",desc:"Manage fees",icon:Ae,action:()=>G("fees")},{title:"Syllabus",desc:"View syllabus",icon:me,action:()=>C("/syllabus")},{title:"Holidays",desc:"View holidays",icon:z,action:()=>C("/holiday")},{title:"Principal Remarks",desc:"Remarks from principal",icon:F,action:()=>be(!0)}].map((s,r)=>e.jsx(u.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},transition:{delay:.7+r*.05},onClick:s.action,className:"p-3 sm:p-4 lg:p-4 rounded-lg bg-card/80 border border-border/30 hover:bg-card/95 transition-shadow duration-200 cursor-pointer flex flex-col items-center justify-center gap-3 shadow-sm hover:shadow-md",children:e.jsxs("div",{className:"flex flex-col items-center justify-center text-center w-full",children:[e.jsx("div",{className:"w-10 h-10 sm:w-12 sm:h-12 lg:w-14 lg:h-14 rounded-full bg-gradient-to-br from-royal/10 to-sky-200/5 flex items-center justify-center flex-shrink-0 shadow-sm",children:e.jsx(s.icon,{className:"h-5 w-5 sm:h-6 sm:w-6 lg:h-7 lg:w-7 text-gold"})}),e.jsxs("div",{className:"flex-1 min-w-0 w-full",children:[e.jsx("h3",{className:"font-semibold text-foreground text-sm sm:text-base lg:text-sm leading-tight text-center px-1 break-words",children:s.title}),e.jsx("p",{className:"text-[11px] sm:text-sm text-muted-foreground leading-tight block text-center px-2 break-words mt-1",children:s.desc})]})]})},s.title))})]})})]}),q&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-2 sm:p-4",children:e.jsxs(u.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-card rounded-xl p-4 sm:p-6 w-full max-w-4xl max-h-[85vh] sm:max-h-[80vh] overflow-y-auto border border-border/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-heading font-bold text-foreground",children:"My Reports & Grades"}),e.jsx(h,{variant:"ghost",size:"sm",onClick:()=>B(!1),children:e.jsx(A,{className:"h-4 w-4"})})]}),U.length>0?e.jsx("div",{className:"space-y-3 sm:space-y-4",children:U.sort((s,r)=>new Date(r.createdAt).getTime()-new Date(s.createdAt).getTime()).map(s=>e.jsxs(u.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-muted/20 rounded-lg p-3 sm:p-4 border border-border/30",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start justify-between mb-3 gap-2",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("h4",{className:"font-semibold text-sm sm:text-base text-foreground",children:[s.subject," Report"]}),e.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:["From: ",s.teacherName," â€¢ ",new Date(s.createdAt).toLocaleDateString()]})]}),e.jsx("div",{className:"text-[10px] sm:text-xs bg-royal/10 text-royal px-2 py-1 rounded flex-shrink-0",children:"New Report"})]}),s.reportImage&&e.jsxs("div",{className:"mb-3 sm:mb-4",children:[e.jsx("img",{src:s.reportImage,alt:"Report",className:"w-full max-w-md mx-auto rounded-lg border border-border/30 cursor-pointer hover:scale-105 transition-transform",onClick:()=>{N({src:s.reportImage,title:`${s.subject} Report - ${s.teacherName}`}),v(!0)}}),e.jsx("p",{className:"text-[10px] sm:text-xs text-muted-foreground text-center mt-2",children:"Click image to view full size"})]}),s.notes&&e.jsxs("div",{className:"bg-muted/30 rounded-lg p-2 sm:p-3",children:[e.jsx("h5",{className:"text-xs sm:text-sm font-medium text-foreground mb-1 sm:mb-2",children:"Teacher's Notes:"}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:s.notes})]})]},s.id))}):e.jsxs("div",{className:"text-center py-8 sm:py-12",children:[e.jsx(Y,{className:"h-12 w-12 sm:h-16 sm:w-16 mx-auto mb-3 sm:mb-4 text-muted-foreground opacity-50"}),e.jsx("h4",{className:"text-base sm:text-lg font-semibold text-foreground mb-2",children:"No Reports Currently"}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Your teachers haven't sent any reports yet. Check back later!"})]}),e.jsx("div",{className:"mt-4 sm:mt-6 pt-3 sm:pt-4 border-t border-border/30",children:e.jsx(h,{onClick:()=>B(!1),className:"w-full h-11 bg-gradient-to-r from-royal to-gold text-white",children:"Close"})})]})}),g&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-2 sm:p-4",children:e.jsxs(u.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-card rounded-xl p-4 sm:p-6 w-full max-w-5xl max-h-[85vh] overflow-y-auto border border-border/50",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 sm:mb-6 gap-3",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-heading font-bold text-foreground",children:"My Attendance"}),e.jsxs("div",{className:"flex items-center justify-between w-full sm:w-auto gap-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(h,{variant:"outline",size:"sm",onClick:()=>{const s=new Date(T);s.setMonth(s.getMonth()-1),xe(s)},className:"h-8 w-8 p-0",children:"â†"}),e.jsx("span",{className:"text-sm sm:text-base font-medium min-w-[120px] sm:min-w-[150px] text-center",children:T.toLocaleDateString("en-US",{month:"short",year:"numeric"})}),e.jsx(h,{variant:"outline",size:"sm",onClick:()=>{const s=new Date(T);s.setMonth(s.getMonth()+1),xe(s)},className:"h-8 w-8 p-0",children:"â†’"})]}),e.jsx(h,{variant:"ghost",size:"sm",onClick:()=>P(!1),className:"h-8 w-8 p-0",children:e.jsx(A,{className:"h-4 w-4"})})]})]}),e.jsxs("div",{className:"mb-4 sm:mb-6 p-3 sm:p-4 bg-muted/20 rounded-lg border border-border/30",children:[e.jsx("h4",{className:"font-semibold mb-2 sm:mb-3 text-sm sm:text-base text-foreground",children:"Attendance Legend:"}),e.jsxs("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2 sm:gap-4 text-xs sm:text-sm",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 bg-green-500 rounded flex-shrink-0"}),e.jsx("span",{className:"text-foreground",children:"Present"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 bg-red-500 rounded-full flex-shrink-0"}),e.jsx("span",{className:"text-foreground",children:"Absent"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 bg-yellow-500 rounded flex-shrink-0"}),e.jsx("span",{className:"text-foreground",children:"Late"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-0 h-0 border-l-2 border-r-2 border-b-4 border-l-transparent border-r-transparent border-b-gray-400 flex-shrink-0"}),e.jsx("span",{className:"text-foreground ml-2",children:"Not Updated"})]}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:"w-3 h-3 sm:w-4 sm:h-4 bg-blue-500 rounded flex-shrink-0"}),e.jsx("span",{className:"text-foreground",children:"Holiday"})]})]})]}),e.jsx("div",{className:"overflow-x-auto -mx-3 sm:mx-0",children:e.jsxs("div",{className:"min-w-[320px] px-3 sm:px-0",children:[e.jsx("h4",{className:"font-semibold mb-3 sm:mb-4 text-sm sm:text-base text-foreground",children:"Monthly Attendance Calendar"}),e.jsxs("div",{className:"grid grid-cols-7 gap-1 sm:gap-2 mb-4",children:[["S","M","T","W","T","F","S"].map((s,r)=>e.jsxs("div",{className:"text-center font-semibold text-[10px] sm:text-sm text-muted-foreground py-1 sm:py-2",children:[e.jsx("span",{className:"hidden sm:inline",children:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"][r]}),e.jsx("span",{className:"sm:hidden",children:s})]},r)),Array.from({length:35},(s,r)=>{const n=new Date,l=new Date(T.getFullYear(),T.getMonth(),1),a=new Date(l);a.setDate(a.getDate()-l.getDay());const i=new Date(a);i.setDate(a.getDate()+r);const m=i.getMonth()===T.getMonth(),y=i.toDateString()===n.toDateString(),p=i.getDay()===0,d=i.getFullYear(),c=String(i.getMonth()+1).padStart(2,"0"),x=String(i.getDate()).padStart(2,"0"),S=`${d}-${c}-${x}`,j=t?Je(S):null;return e.jsxs("div",{className:`relative h-10 sm:h-12 border border-border/30 rounded-md sm:rounded-lg flex items-center justify-center text-xs sm:text-sm ${m?"bg-card":"text-muted-foreground/50 bg-muted/10"} ${y?"ring-1 sm:ring-2 ring-gold":""}`,children:[e.jsx("span",{className:`absolute top-0.5 left-0.5 sm:top-1 sm:left-1 text-[9px] sm:text-xs ${m?"text-foreground":"text-muted-foreground/50"}`,children:i.getDate()}),m&&e.jsx("div",{className:"flex items-center justify-center",children:p||w.includes(S)?e.jsx("div",{className:"w-4 h-4 sm:w-6 sm:h-6 bg-blue-500 rounded",title:p?"Sunday - Holiday":"Holiday"}):j?j.status==="present"?e.jsx("div",{className:"w-4 h-4 sm:w-6 sm:h-6 bg-green-500 rounded",title:"Present"}):j.status==="absent"?e.jsx("div",{className:"w-4 h-4 sm:w-6 sm:h-6 bg-red-500 rounded-full",title:"Absent"}):e.jsx("div",{className:"w-4 h-4 sm:w-6 sm:h-6 bg-yellow-500 rounded",title:"Late"}):e.jsx("div",{className:"w-0 h-0 border-l-2 border-r-2 border-b-4 sm:border-l-3 sm:border-r-3 sm:border-b-6 border-l-transparent border-r-transparent border-b-gray-400",title:"Not Updated"})})]},r)})]})]})}),e.jsxs("div",{className:"mt-4 sm:mt-6 grid grid-cols-2 sm:grid-cols-4 gap-3 sm:gap-4",children:[e.jsxs("div",{className:"bg-green-500/10 rounded-lg p-3 sm:p-4 text-center border border-green-500/30",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-400",children:L.present}),e.jsx("div",{className:"text-xs sm:text-sm text-green-400",children:"Present Days"})]}),e.jsxs("div",{className:"bg-red-500/10 rounded-lg p-3 sm:p-4 text-center border border-red-500/30",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-red-400",children:L.absent}),e.jsx("div",{className:"text-xs sm:text-sm text-red-400",children:"Absent Days"})]}),e.jsxs("div",{className:"bg-yellow-500/10 rounded-lg p-3 sm:p-4 text-center border border-yellow-500/30",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-yellow-400",children:L.late}),e.jsx("div",{className:"text-xs sm:text-sm text-yellow-400",children:"Late Days"})]}),e.jsxs("div",{className:"bg-blue-500/10 rounded-lg p-3 sm:p-4 text-center border border-blue-500/30",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-blue-400",children:L.holidays}),e.jsx("div",{className:"text-xs sm:text-sm text-blue-400",children:"Holidays"})]}),e.jsxs("div",{className:"sm:col-span-4 bg-gold/10 rounded-lg p-3 sm:p-4 text-center border border-gold/30",children:[e.jsxs("div",{className:"text-xl sm:text-2xl font-bold text-gold",children:[L.percentage,"%"]}),e.jsx("div",{className:"text-xs sm:text-sm text-gold",children:"Attendance Rate"})]})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-border/30",children:e.jsx(h,{onClick:()=>P(!1),className:"w-full bg-gradient-to-r from-royal to-gold text-white",children:"Close"})})]})}),Me&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-2 sm:p-4",children:e.jsxs(u.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-card rounded-xl p-4 sm:p-6 w-full max-w-4xl max-h-[85vh] overflow-y-auto border border-border/50",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 sm:mb-6 gap-2",children:[e.jsx("h3",{className:"text-base sm:text-xl font-heading font-bold text-foreground",children:"My Assignments & Homework"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(h,{variant:"outline",size:"sm",onClick:de,className:"text-xs h-8",children:"ðŸ”„ Refresh"}),e.jsx(h,{variant:"ghost",size:"sm",onClick:()=>se(!1),className:"h-8 w-8 p-0",children:e.jsx(A,{className:"h-4 w-4"})})]})]}),ue.length>0?e.jsx("div",{className:"space-y-3 sm:space-y-4",children:ue.sort((s,r)=>new Date(r.createdAt).getTime()-new Date(s.createdAt).getTime()).map(s=>e.jsxs(u.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"bg-muted/20 rounded-lg p-3 sm:p-6 border border-border/30",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start justify-between mb-3 sm:mb-4 gap-2",children:[e.jsxs("div",{className:"flex-1 min-w-0 w-full",children:[e.jsx("h4",{className:"text-sm sm:text-lg font-semibold text-foreground mb-2",children:s.title}),e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:space-x-4 space-y-1 sm:space-y-0 text-xs sm:text-sm text-muted-foreground mb-2 sm:mb-3",children:[e.jsxs("span",{className:"flex items-center",children:[e.jsx(me,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),s.subject]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(z,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),"Due: ",new Date(s.dueDate).toLocaleDateString()]}),e.jsxs("span",{className:"flex items-center",children:[e.jsx(E,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),new Date(s.createdAt).toLocaleDateString()]})]})]}),e.jsx("div",{className:`px-2 sm:px-3 py-1 rounded-full text-[10px] sm:text-xs font-medium flex-shrink-0 ${new Date(s.dueDate)<new Date?"bg-red-500/10 text-red-400 border border-red-500/30":new Date(s.dueDate).getTime()-new Date().getTime()<24*60*60*1e3?"bg-yellow-500/10 text-yellow-400 border border-yellow-500/30":"bg-green-500/10 text-green-400 border border-green-500/30"}`,children:new Date(s.dueDate)<new Date?"Overdue":new Date(s.dueDate).getTime()-new Date().getTime()<24*60*60*1e3?"Due Soon":"Active"})]}),e.jsx("div",{className:"mb-3 sm:mb-4",children:e.jsx("p",{className:"text-xs sm:text-base text-foreground leading-relaxed",children:s.description})}),s.attachments&&s.attachments.length>0&&e.jsxs("div",{className:"mb-3 sm:mb-4",children:[e.jsxs("h5",{className:"font-medium text-xs sm:text-sm text-foreground mb-2 flex items-center",children:[e.jsx(Y,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-1"}),"Attachments (",s.attachments.length,")"]}),e.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 gap-2",children:s.attachments.map((r,n)=>e.jsxs("div",{className:"relative group cursor-pointer",onClick:()=>{N({src:r,title:`${s.title} - Attachment ${n+1}`}),v(!0)},children:[e.jsx("img",{src:r,alt:`Attachment ${n+1}`,className:"w-full h-20 sm:h-24 object-cover rounded-lg border border-border cursor-pointer hover:opacity-80 transition-opacity"}),e.jsx("div",{className:"absolute inset-0 bg-black/0 group-hover:bg-black/20 rounded-lg transition-colors flex items-center justify-center",children:e.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity",children:e.jsx("div",{className:"bg-white/90 rounded-full p-2",children:e.jsx(Y,{className:"h-3 w-3 sm:h-4 sm:w-4 text-gray-800"})})})})]},n))})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between pt-3 sm:pt-4 border-t border-border/30 gap-3",children:[e.jsxs("div",{className:"text-xs sm:text-sm text-muted-foreground",children:["Created by: ",s.createdBy]}),e.jsx("div",{className:"flex flex-col sm:flex-row w-full sm:w-auto gap-2"})]})]},s.id))}):e.jsxs("div",{className:"text-center py-8 sm:py-12",children:[e.jsx(Y,{className:"h-10 w-10 sm:h-12 sm:w-12 text-muted-foreground mx-auto mb-3 sm:mb-4"}),e.jsx("h4",{className:"text-base sm:text-lg font-medium text-foreground mb-2",children:"No Assignments Yet"}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"Your teachers haven't assigned any homework or assignments yet."})]}),e.jsx("div",{className:"mt-4 sm:mt-6 pt-3 sm:pt-4 border-t border-border/30",children:e.jsx(h,{onClick:()=>se(!1),className:"w-full h-11 bg-gradient-to-r from-royal to-gold text-white",children:"Close"})})]})}),Ie&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-2 sm:p-4",children:e.jsxs(u.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-card rounded-xl p-4 sm:p-6 w-full max-w-4xl max-h-[85vh] sm:max-h-[80vh] overflow-y-auto border border-border/50",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between mb-4 sm:mb-6 gap-2",children:[e.jsx("h3",{className:"text-base sm:text-xl font-heading font-bold text-foreground",children:"My Remarks from Teachers"}),e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(h,{variant:"outline",size:"sm",onClick:()=>{ae([]),setTimeout(()=>{$()},100)},className:"text-xs h-8",children:"ðŸ”„ Refresh"}),e.jsx(h,{variant:"ghost",size:"sm",onClick:()=>te(!1),className:"h-8 w-8 p-0",children:e.jsx(A,{className:"h-4 w-4"})})]})]}),K.length>0?e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[e.jsxs("div",{className:"bg-green-500/10 rounded-lg p-3 sm:p-4 text-center border border-green-500/30",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-green-400",children:K.filter(s=>s.type==="good").length}),e.jsx("div",{className:"text-xs sm:text-sm text-green-400",children:"Good Remarks"})]}),e.jsxs("div",{className:"bg-red-500/10 rounded-lg p-3 sm:p-4 text-center border border-red-500/30",children:[e.jsx("div",{className:"text-xl sm:text-2xl font-bold text-red-400",children:K.filter(s=>s.type==="bad").length}),e.jsx("div",{className:"text-xs sm:text-sm text-red-400",children:"Areas to Improve"})]})]}),K.sort((s,r)=>new Date(r.date).getTime()-new Date(s.date).getTime()).map((s,r)=>{var n;return e.jsxs(u.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:`rounded-lg p-4 border ${s.type==="good"?"bg-green-500/10 border-green-500/30":"bg-red-500/10 border-red-500/30"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[s.type==="good"?e.jsx(F,{className:"h-5 w-5 text-green-400 fill-green-400"}):e.jsx("div",{className:"h-5 w-5 rounded-full bg-red-400 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"!"})}),e.jsx("span",{className:`font-medium ${s.type==="good"?"text-green-400":"text-red-400"}`,children:s.type==="good"?"Good Remark":"Area to Improve"})]}),e.jsx("div",{className:"text-xs text-muted-foreground",children:new Date(s.date).toLocaleDateString()})]}),e.jsx("p",{className:`mb-2 ${s.type==="good"?"text-green-100":"text-red-100"}`,children:s.message}),(s.images&&s.images.length>0||s.image)&&e.jsxs("div",{className:"mb-2",children:[e.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-2",children:(s.images&&s.images.length>0?s.images:s.image?[s.image]:[]).map((l,a)=>e.jsx("div",{className:"relative",children:e.jsx("img",{src:l,alt:`Remark attachment ${a+1}`,className:"w-full h-20 object-cover rounded-lg border border-border cursor-pointer hover:opacity-80 transition-opacity",onClick:()=>{N({src:l,title:`Remark Image ${a+1} - ${s.subject||"General"}`}),v(!0)}})},a))}),(((n=s.images)==null?void 0:n.length)>0||s.image)&&e.jsxs("div",{className:"text-xs text-muted-foreground mt-1",children:[s.images&&s.images.length>0?s.images.length:s.image?1:0," image",(s.images&&s.images.length>0?s.images.length:s.image?1:0)>1?"s":""," from teacher"]})]}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsxs("span",{children:["Subject: ",s.subject]}),e.jsx("span",{children:"From Teacher"})]})]},r)})]}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(F,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h4",{className:"text-lg font-medium text-foreground mb-2",children:"No Remarks Yet"}),e.jsx("p",{className:"text-muted-foreground",children:"Your teachers haven't given you any remarks yet. Keep up the good work!"})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-border/30",children:e.jsx(h,{onClick:()=>te(!1),className:"w-full bg-gradient-to-r from-royal to-gold text-white",children:"Close"})})]})}),Pe&&t&&e.jsx("div",{className:"fixed inset-0 bg-black/70 flex items-center justify-center z-[100] p-4",children:e.jsxs(u.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-card rounded-xl p-4 sm:p-6 w-full max-w-7xl max-h-[90vh] overflow-y-auto border border-border/50 shadow-2xl",children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs("div",{children:[e.jsxs("h3",{className:"text-xl sm:text-2xl font-heading font-bold text-foreground flex items-center gap-2",children:[e.jsx(E,{className:"h-6 w-6 text-gold"}),"Class Timetable - ",t.class,t.section]}),e.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Weekly schedule for your class"})]}),e.jsx(h,{variant:"ghost",size:"sm",onClick:()=>ge(!1),className:"h-8 w-8 p-0",children:e.jsx(A,{className:"h-4 w-4"})})]}),le&&le.length>0?e.jsx("div",{className:"space-y-6",children:le.map((s,r)=>{var n;return e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.1},className:"bg-gradient-to-br from-royal/5 via-gold/5 to-royal/5 rounded-lg p-4 border border-border/30 hover:border-gold/30 transition-all",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("h4",{className:"text-lg font-semibold text-foreground flex items-center gap-2",children:[e.jsx(z,{className:"h-5 w-5 text-gold"}),s.day]}),e.jsxs("span",{className:"text-xs text-muted-foreground bg-muted/30 px-3 py-1 rounded-full",children:[((n=s.periods)==null?void 0:n.length)||0," periods"]})]}),s.periods&&s.periods.length>0?e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-3",children:s.periods.map((l,a)=>e.jsxs(u.div,{initial:{opacity:0,x:-10},animate:{opacity:1,x:0},transition:{delay:r*.1+a*.05},className:`p-3 rounded-lg border transition-all ${l.subject==="Break"||l.subject==="Lunch Break"?"bg-blue-500/10 border-blue-500/30 hover:bg-blue-500/20":"bg-card border-border/30 hover:border-gold/50 hover:shadow-md"}`,children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsxs("span",{className:"text-xs font-medium text-gold flex items-center gap-1",children:[e.jsx(E,{className:"h-3 w-3"}),l.time]}),l.room&&e.jsx("span",{className:"text-xs text-muted-foreground bg-muted/30 px-2 py-0.5 rounded",children:l.room})]}),e.jsx("h5",{className:`font-semibold mb-1 text-sm ${l.subject==="Break"||l.subject==="Lunch Break"?"text-blue-400":"text-foreground"}`,children:l.subject}),l.teacher&&e.jsxs("p",{className:"text-xs text-muted-foreground truncate",title:l.teacher,children:["ðŸ‘¨â€ðŸ« ",l.teacher]})]},a))}):e.jsx("div",{className:"text-center py-4",children:e.jsxs("p",{className:"text-sm text-muted-foreground",children:["No periods scheduled for ",s.day]})})]},s.day)})}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(E,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-50"}),e.jsx("h4",{className:"text-lg font-semibold text-foreground mb-2",children:"No Timetable Created Yet"}),e.jsxs("p",{className:"text-muted-foreground mb-2",children:["The Principal hasn't created a timetable for Class ",t==null?void 0:t.class,t==null?void 0:t.section," yet."]}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Please contact your Principal to create the timetable in the Timetable Manager."})]}),e.jsx("div",{className:"mt-6 pt-4 border-t border-border/30 flex justify-center",children:e.jsxs(h,{onClick:()=>ge(!1),className:"bg-gradient-to-r from-royal to-gold text-white hover:opacity-90 transition-opacity",children:[e.jsx(A,{className:"h-4 w-4 mr-2"}),"Close Timetable"]})})]})}),I==="fees"&&e.jsx(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-2 sm:p-4",children:e.jsxs(u.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-card rounded-xl p-4 sm:p-6 w-full max-w-4xl max-h-[85vh] sm:max-h-[80vh] overflow-y-auto border border-border/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-heading font-bold text-foreground",children:"Fee Management"}),e.jsx(h,{variant:"ghost",size:"sm",onClick:()=>G("dashboard"),children:e.jsx(A,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"grid grid-cols-1 gap-3 sm:gap-4 mb-4 sm:mb-6",children:[e.jsx("div",{className:"bg-muted/20 rounded-lg p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-9 h-9 sm:w-10 sm:h-10 rounded-full bg-green-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx(xs,{className:"h-4 w-4 sm:h-5 sm:w-5 text-green-400"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-base sm:text-lg font-bold text-foreground",children:["â‚¹",ie().totalPaid]}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Total Paid"})]})]})}),e.jsx("div",{className:"bg-muted/20 rounded-lg p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-9 h-9 sm:w-10 sm:h-10 rounded-full bg-yellow-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx(us,{className:"h-4 w-4 sm:h-5 sm:w-5 text-yellow-400"})}),e.jsxs("div",{children:[e.jsxs("p",{className:"text-base sm:text-lg font-bold text-foreground",children:["â‚¹",ie().totalPending]}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Total Pending"})]})]})}),e.jsx("div",{className:"bg-muted/20 rounded-lg p-3 sm:p-4",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-9 h-9 sm:w-10 sm:h-10 rounded-full bg-blue-500/20 flex items-center justify-center flex-shrink-0",children:e.jsx(z,{className:"h-4 w-4 sm:h-5 sm:w-5 text-blue-400"})}),e.jsxs("div",{children:[e.jsx("p",{className:"text-base sm:text-lg font-bold text-foreground",children:ie().pendingFees.length}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Pending Months"})]})]})})]}),e.jsxs("div",{className:"mb-4 sm:mb-6",children:[e.jsx("h4",{className:"text-base sm:text-lg font-semibold text-foreground mb-3 sm:mb-4",children:"Payment Requests"}),ne.length>0?e.jsx("div",{className:"space-y-3",children:ne.sort((s,r)=>new Date(r.createdAt).getTime()-new Date(s.createdAt).getTime()).map(s=>e.jsxs("div",{className:"bg-muted/20 rounded-lg p-3 sm:p-4 border border-border/30",children:[e.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-3 gap-2",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("h5",{className:"font-semibold text-sm sm:text-base text-foreground",children:["Payment Request - â‚¹",s.amount]}),e.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground truncate",children:["From: ",s.teacherName," â€¢ ",new Date(s.createdAt).toLocaleDateString()]})]}),e.jsx("span",{className:`px-2 py-1 rounded text-[10px] sm:text-xs font-medium self-start sm:self-auto flex-shrink-0 ${s.status==="paid"?"bg-green-500/20 text-green-400":"bg-yellow-500/20 text-yellow-400"}`,children:s.status.toUpperCase()})]}),e.jsxs("div",{className:"mb-3",children:[e.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground mb-2",children:["Months: ",s.months.join(", ")]}),s.notes&&e.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground bg-muted/30 p-2 rounded",children:["Note: ",s.notes]})]}),s.status==="pending"&&e.jsxs(h,{onClick:()=>$e(s),className:"bg-gradient-to-r from-green-500 to-emerald-500 text-white w-full sm:w-auto h-11",size:"sm",children:[e.jsx(Re,{className:"h-4 w-4 mr-2"}),"Pay â‚¹",s.amount]})]},s.id))}):e.jsxs("div",{className:"text-center py-6 sm:py-8",children:[e.jsx(Ae,{className:"h-10 w-10 sm:h-12 sm:w-12 mx-auto text-muted-foreground mb-3 sm:mb-4"}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"No payment requests found"}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Your teacher will send payment requests when fees are due"})]})]}),e.jsxs("div",{children:[e.jsxs("h4",{className:"text-base sm:text-lg font-semibold text-foreground mb-3 sm:mb-4",children:["Fee History (",Fe,")"]}),H.length>0?e.jsx("div",{className:"space-y-2 sm:space-y-3",children:H.sort((s,r)=>ye.indexOf(s.month)-ye.indexOf(r.month)).map(s=>e.jsxs("div",{className:"flex items-start sm:items-center justify-between p-3 border border-border/30 rounded-lg gap-3",children:[e.jsxs("div",{className:"min-w-0 flex-1",children:[e.jsxs("p",{className:"font-medium text-sm sm:text-base text-foreground",children:[s.month," ",s.year]}),e.jsxs("p",{className:"text-xs sm:text-sm text-muted-foreground",children:["â‚¹",s.amount]}),s.notes&&e.jsx("p",{className:"text-xs text-muted-foreground mt-1 line-clamp-2",children:s.notes})]}),e.jsxs("div",{className:"text-right flex-shrink-0",children:[e.jsx("span",{className:`px-2 py-1 rounded text-[10px] sm:text-xs font-medium whitespace-nowrap ${s.status==="paid"?"bg-green-500/20 text-green-400":s.status==="pending"?"bg-yellow-500/20 text-yellow-400":"bg-red-500/20 text-red-400"}`,children:s.status.toUpperCase()}),s.paymentDate&&e.jsxs("p",{className:"text-[10px] sm:text-xs text-muted-foreground mt-1",children:["Paid: ",new Date(s.paymentDate).toLocaleDateString()]})]})]},s.id))}):e.jsxs("div",{className:"text-center py-6 sm:py-8",children:[e.jsx(z,{className:"h-10 w-10 sm:h-12 sm:w-12 mx-auto text-muted-foreground mb-3 sm:mb-4"}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground",children:"No fee records found"}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground",children:"Fee records will appear here when your teacher creates them"})]})]})]})}),Te&&k&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-3 sm:p-4",children:e.jsxs(u.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-card rounded-xl p-4 sm:p-6 w-full max-w-md max-h-[90vh] overflow-y-auto border border-border/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-foreground",children:"Pay Fees Online"}),e.jsx(h,{variant:"ghost",size:"sm",onClick:()=>{Q(!1),X(null),O({amount:"",paymentMethod:"online",notes:""})},className:"h-8 w-8 p-0",children:e.jsx(A,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{className:"bg-muted/20 rounded-lg p-3 sm:p-4",children:[e.jsx("h4",{className:"font-semibold text-sm sm:text-base text-foreground mb-2",children:"Payment Summary"}),e.jsxs("div",{className:"space-y-2 text-xs sm:text-sm",children:[e.jsxs("div",{className:"flex justify-between gap-2",children:[e.jsx("span",{className:"text-muted-foreground",children:"Amount:"}),e.jsxs("span",{className:"font-medium text-foreground",children:["â‚¹",k.amount]})]}),e.jsxs("div",{className:"flex justify-between gap-2",children:[e.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"Months:"}),e.jsx("span",{className:"font-medium text-foreground text-right",children:k.months.join(", ")})]}),e.jsxs("div",{className:"flex justify-between gap-2",children:[e.jsx("span",{className:"text-muted-foreground flex-shrink-0",children:"From:"}),e.jsx("span",{className:"font-medium text-foreground text-right truncate",children:k.teacherName})]})]}),k.notes&&e.jsxs("div",{className:"mt-2 sm:mt-3 p-2 bg-muted/30 rounded text-xs sm:text-sm",children:[e.jsx("span",{className:"text-muted-foreground",children:"Note: "}),e.jsx("span",{className:"text-foreground",children:k.notes})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium mb-2",children:"Payment Method"}),e.jsx("div",{className:"grid grid-cols-1 gap-2 sm:gap-3",children:e.jsx("button",{type:"button",onClick:()=>O({...M,paymentMethod:"razorpay"}),className:`p-3 sm:p-4 rounded-lg border-2 transition-all ${M.paymentMethod==="razorpay"?"border-gold bg-gold/10":"border-border/30 hover:border-border"}`,children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 rounded-lg bg-gradient-to-r from-blue-500 to-blue-600 flex items-center justify-center",children:e.jsx("span",{className:"text-white text-xl",children:"ðŸ’³"})}),e.jsxs("div",{className:"text-left",children:[e.jsx("p",{className:"text-sm sm:text-base font-semibold text-foreground",children:"Razorpay"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Secure payment gateway"})]})]})})})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium mb-2",children:"Amount to Pay (â‚¹)"}),e.jsx(Xe,{type:"number",value:M.amount,onChange:s=>O({...M,amount:s.target.value}),placeholder:"Enter amount",disabled:!0,className:"bg-muted/20 text-sm sm:text-base h-10 sm:h-11"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"block text-xs sm:text-sm font-medium mb-2",children:"Payment Notes (Optional)"}),e.jsx(Ze,{value:M.notes,onChange:s=>O({...M,notes:s.target.value}),placeholder:"Add any notes for this payment...",rows:3,className:"text-sm sm:text-base"})]}),M.paymentMethod==="razorpay"&&e.jsx("div",{className:"bg-blue-500/10 border border-blue-500/20 rounded-lg p-3",children:e.jsxs("div",{className:"flex items-start space-x-2",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-500 rounded flex items-center justify-center flex-shrink-0",children:e.jsx("span",{className:"text-white text-xs font-bold",children:"R"})}),e.jsxs("div",{className:"text-sm",children:[e.jsx("p",{className:"font-medium text-foreground mb-1",children:"Razorpay Payment"}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Secure payment powered by Razorpay. Supports UPI, Cards, Net Banking, and Wallets."})]})]})}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-2 pt-2",children:[e.jsx(h,{variant:"outline",onClick:()=>{Q(!1),X(null),O({amount:"",paymentMethod:"online",notes:""})},className:"flex-1 h-11",children:"Cancel"}),e.jsxs(h,{onClick:Le,className:"flex-1 h-11 text-white bg-gradient-to-r from-blue-500 to-blue-600",children:[e.jsx(Re,{className:"h-4 w-4 mr-2"}),e.jsx("span",{className:"text-sm sm:text-base",children:"Pay with Razorpay"})]})]})]})]})}),f&&b&&e.jsx(es,{documentUrl:b.src,documentName:b.title,onClose:()=>{v(!1),N(null)}}),Oe&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-2 sm:p-4",children:e.jsxs(u.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-card rounded-xl p-4 sm:p-6 w-full max-w-4xl max-h-[85vh] sm:max-h-[80vh] overflow-y-auto border border-border/50",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[e.jsxs("h3",{className:"text-lg sm:text-xl font-heading font-bold text-foreground flex items-center",children:[e.jsx(F,{className:"h-6 w-6 text-yellow-500 mr-2"}),"Principal Remarks"]}),e.jsx(h,{variant:"ghost",size:"sm",onClick:()=>be(!1),children:e.jsx(A,{className:"h-4 w-4"})})]}),pe.length>0?e.jsx("div",{className:"space-y-4",children:pe.sort((s,r)=>new Date(r.createdAt).getTime()-new Date(s.createdAt).getTime()).map((s,r)=>e.jsxs(u.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:r*.1},className:`p-4 rounded-lg border-l-4 ${s.type==="good"?"bg-green-500/10 border-green-500 border-l-green-500":"bg-red-500/10 border-red-500 border-l-red-500"}`,children:[e.jsxs("div",{className:"flex items-start justify-between mb-2",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx("div",{className:`p-1 rounded-full ${s.type==="good"?"bg-green-500":"bg-red-500"}`,children:e.jsx(F,{className:"h-3 w-3 text-white"})}),e.jsx("h4",{className:"font-semibold text-foreground",children:s.subject}),e.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${s.type==="good"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400"}`,children:s.type==="good"?"Good":"Needs Improvement"})]}),e.jsx("span",{className:"text-xs text-muted-foreground",children:new Date(s.createdAt).toLocaleDateString()})]}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3",children:s.message}),s.images&&s.images.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mb-3",children:s.images.map((n,l)=>e.jsx("img",{src:n,alt:`principal-remark-${l}`,className:"w-20 h-20 object-cover rounded-lg border border-border cursor-pointer",onClick:()=>{N({src:n,title:"Principal Remark"}),v(!0)}},l))}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground",children:[e.jsx("span",{className:"font-medium",children:"From:"})," Principal"]})]},s.id))}):e.jsxs("div",{className:"text-center py-12",children:[e.jsx(F,{className:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),e.jsx("h4",{className:"text-lg font-medium text-foreground mb-2",children:"No Principal Remarks"}),e.jsx("p",{className:"text-muted-foreground",children:"You haven't received any remarks from the principal yet."})]})]})}),ee&&t&&e.jsx("div",{className:"fixed inset-0 z-[100]",children:e.jsx(gs,{studentClass:t.class,studentSection:t.section,studentName:t.fullName,studentId:t.id,onClose:()=>W(!1)})})]})};export{Zs as default};
