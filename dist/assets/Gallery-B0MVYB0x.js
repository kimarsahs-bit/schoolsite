import{r as l,j as e,m as i,A as N,X as E}from"./index-vcAYm6vD.js";import{N as I}from"./Navigation-CkWS-LtT.js";import{F as L}from"./Footer-BiycIaLE.js";import{C as z}from"./chevron-left-CY1VkQV5.js";import{C as T}from"./chevron-right-A6kZWk8r.js";import{A}from"./arrow-up-DqqWJMn0.js";import"./button-variants-BtDv6DLU.js";import"./useTranslation-FKcwN8er.js";import"./house-ClAQJ8-A.js";import"./users-DshTqfGB.js";import"./book-open-Cck4FFnk.js";import"./calendar-Cyjlwh6t.js";import"./building-C8rHFNgL.js";import"./graduation-cap-P36faES5.js";import"./camera-Bc_Ov7XJ.js";import"./trophy-B-XvrowL.js";import"./chevron-down-D_kuZwQK.js";import"./globe-BWhPOJAF.js";import"./bell-D_AoMh8q.js";import"./phone-CcjDqeo4.js";import"./mail-MYJrtdEn.js";import"./award-Bdl_Spfw.js";import"./map-pin-WXVSP-9y.js";import"./minus-D_KMDVYG.js";import"./plus-CSXBcpgr.js";const H=()=>{var y,v,w,j;const[o,r]=l.useState(null),[c,m]=l.useState("all"),[p,d]=l.useState([]),[g,x]=l.useState([]);l.useEffect(()=>{const t=localStorage.getItem("royal-academy-gallery");if(t)try{const a=JSON.parse(t);console.log("Loaded gallery data:",a),d(a);const n=a.flatMap(C=>C.images);console.log("Flattened images:",n),x(n)}catch(a){console.error("Error parsing gallery data:",a),u()}else console.log("No gallery data found in localStorage, using fallback data"),u()},[]);const u=()=>{console.log("Loading fallback gallery data");const t=[{id:"campus-life",name:"Campus Life",description:"Daily life and activities at Royal Academy",images:[{id:"campus-1",title:"Main Campus Building",description:"Our beautiful main academic building with modern facilities",imageUrl:"https://images.unsplash.com/photo-1562774053-701939374585?w=800&h=600&fit=crop&crop=entropy&auto=format&q=80",category:"campus-life",date:"2024-09-01"},{id:"campus-2",title:"School Library",description:"State-of-the-art library with extensive resources",imageUrl:"https://images.unsplash.com/photo-1481627834876-b7833e8f5570?w=800&h=600&fit=crop&crop=entropy&auto=format&q=80",category:"campus-life",date:"2024-09-02"}]},{id:"events",name:"School Events",description:"Special events and celebrations",images:[{id:"event-1",title:"Annual Sports Day",description:"Students participating in various sports competitions",imageUrl:"https://images.unsplash.com/photo-1571019613454-1cb2f99b2d8b?w=800&h=600&fit=crop&crop=entropy&auto=format&q=80",category:"events",date:"2024-08-15"}]}];d(t);const a=t.flatMap(n=>n.images);console.log("Fallback images:",a),x(a)},k=[{id:"all",name:"All"},...p.map(t=>({id:t.id,name:t.name}))],h=g.map((t,a)=>({id:parseInt(t.id)||a+1,category:t.category,title:t.title,description:t.description,image:t.imageUrl||""}));console.log("Gallery items to display:",h);const s=c==="all"?h:h.filter(t=>t.category===c),S=t=>{r(t)},b=()=>{r(null)},f=t=>{o!==null&&r(t==="prev"?o>0?o-1:s.length-1:o<s.length-1?o+1:0)};return e.jsxs("div",{className:"min-h-screen",children:[e.jsx("section",{className:"section-padding bg-gradient-to-r from-royal/5 via-background to-crimson/5",children:e.jsxs("div",{className:"container-wide",children:[e.jsx(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"flex flex-wrap justify-center gap-2 sm:gap-4 mb-8 sm:mb-12",children:k.map((t,a)=>e.jsx(i.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},whileHover:{scale:1.05},whileTap:{scale:.95},transition:{delay:a*.1},onClick:()=>m(t.id),className:`category-button px-4 sm:px-6 py-2 sm:py-3 rounded-full font-medium transition-all duration-300 text-sm sm:text-base border-2 ${c===t.id?"selected border-gold bg-gold/15 text-gold shadow-lg":"border-gold/40 bg-card/50 hover:bg-card/70 text-muted-foreground hover:text-foreground hover:border-gold/70"}`,children:t.name},t.id))}),e.jsx(i.div,{layout:!0,className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4 sm:gap-6",children:e.jsx(N,{children:s.map((t,a)=>e.jsx(i.div,{layout:!0,initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},whileHover:{scale:1.03,z:20},transition:{duration:.2,type:"spring",stiffness:300},className:"gallery-card cursor-pointer group relative",onClick:()=>S(a),children:e.jsxs("div",{className:"h-48 sm:h-64 relative overflow-hidden bg-muted/20",children:[e.jsx("img",{src:t.image,alt:t.title,className:"w-full h-full object-cover transition-transform duration-300 group-hover:scale-105",loading:"lazy",onError:n=>{console.error("Image failed to load:",t.image),n.currentTarget.src="/placeholder-image.svg"}}),e.jsx("div",{className:"absolute inset-0 bg-black/20 group-hover:bg-black/40 transition-colors duration-300"}),e.jsxs(i.div,{initial:{opacity:0,y:20},whileHover:{opacity:1,y:0},transition:{duration:.2},className:"absolute inset-0 flex flex-col justify-end p-4 sm:p-6 opacity-0 group-hover:opacity-100",children:[e.jsx("h3",{className:"text-white font-heading font-semibold text-base sm:text-lg mb-1 sm:mb-2",children:t.title}),e.jsx("p",{className:"text-white/80 text-xs sm:text-sm",children:t.description})]})]})},t.id))})})]})}),e.jsx(N,{children:o!==null&&e.jsx(i.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md",onClick:b,children:e.jsxs("div",{className:"lightbox-container relative w-full max-w-4xl max-h-[90vh] mx-2 sm:mx-4",children:[e.jsx(i.button,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},whileHover:{scale:1.1},whileTap:{scale:.9},onClick:b,className:"lightbox-close-btn absolute -top-10 right-0 text-white hover:text-gold transition-colors z-10",children:e.jsx(E,{className:"h-6 w-6 sm:h-8 sm:w-8"})}),e.jsx(i.button,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},whileHover:{scale:1.1},onClick:t=>{t.stopPropagation(),f("prev")},className:"lightbox-navigation-btn absolute left-2 sm:left-4 top-1/2 -translate-y-1/2 text-white hover:text-gold transition-colors z-10",children:e.jsx(z,{className:"h-6 w-6 sm:h-8 sm:w-8"})}),e.jsx(i.button,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},whileHover:{scale:1.1},onClick:t=>{t.stopPropagation(),f("next")},className:"lightbox-navigation-btn absolute right-2 sm:right-4 top-1/2 -translate-y-1/2 text-white hover:text-gold transition-colors z-10",children:e.jsx(T,{className:"h-6 w-6 sm:h-8 sm:w-8"})}),e.jsxs(i.div,{initial:{opacity:0,scale:.8},animate:{opacity:1,scale:1},exit:{opacity:0,scale:.8},transition:{type:"spring",stiffness:300},className:"w-full h-[60vh] sm:h-[70vh] rounded-lg sm:rounded-xl relative overflow-hidden bg-black/20",onClick:t=>t.stopPropagation(),children:[e.jsx("img",{src:(y=s[o])==null?void 0:y.image,alt:(v=s[o])==null?void 0:v.title,className:"lightbox-image w-full h-full object-contain sm:object-cover",onError:t=>{var a;console.error("Lightbox image failed to load:",(a=s[o])==null?void 0:a.image),t.currentTarget.src="/placeholder-image.svg"}}),e.jsx("div",{className:"absolute inset-0 bg-black/20"}),e.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 sm:p-6 text-white",children:[e.jsx("h3",{className:"text-lg sm:text-2xl font-heading font-bold mb-1 sm:mb-2",children:(w=s[o])==null?void 0:w.title}),e.jsx("p",{className:"text-white/80 text-sm sm:text-base",children:(j=s[o])==null?void 0:j.description})]})]}),e.jsxs(i.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"absolute -bottom-8 sm:-bottom-10 left-1/2 transform -translate-x-1/2 text-white/60 text-xs sm:text-sm",children:[o+1," / ",s.length]})]})})})]})},se=()=>{const[o,r]=l.useState(!1);l.useEffect(()=>{const m=()=>{const p=window.scrollY,d=400,g=window.innerHeight+window.scrollY>=document.body.offsetHeight-1e3;r(p>d||g)};return window.addEventListener("scroll",m),()=>window.removeEventListener("scroll",m)},[]);const c=()=>{window.scrollTo({top:0,behavior:"smooth"})};return e.jsxs("div",{className:"min-h-screen",children:[e.jsx(I,{}),e.jsxs("section",{className:"relative pt-24 pb-12 sm:pt-32 sm:pb-20 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-royal/20 via-background to-crimson/20"}),e.jsx("div",{className:"container-wide relative z-10",children:e.jsxs(i.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-12 sm:mb-16",children:[e.jsxs("h1",{className:"text-3xl sm:text-5xl md:text-6xl font-heading font-bold mb-4 sm:mb-6",children:["Visual ",e.jsx("span",{className:"text-gradient-gold",children:"Gallery"})]}),e.jsx("p",{className:"text-base sm:text-xl text-muted-foreground max-w-3xl mx-auto leading-relaxed px-4",children:"Explore life at Ramakrishna mission through our comprehensive photo gallery showcasing campus, academics, and student life."})]})})]}),e.jsx(H,{}),o&&e.jsx(i.button,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},onClick:c,className:"fixed bottom-8 right-8 z-50 p-3 rounded-full bg-gold hover:bg-gold/90 text-black shadow-lg hover:shadow-xl transition-all duration-300","aria-label":"Scroll to top",children:e.jsx(A,{className:"h-6 w-6"})}),e.jsx(L,{})]})};export{se as default};
