import{r as x,u as k,j as e,B as o,m as g,X as S}from"./index-vcAYm6vD.js";import{I as d}from"./input-CVoIJ2zH.js";import{T as D}from"./textarea-B1JbTjEM.js";import{A as E}from"./arrow-left-DhQ25n61.js";import{P as I}from"./plus-CSXBcpgr.js";import{B as j}from"./book-open-Cck4FFnk.js";import{S as B}from"./square-pen-BVw1FIsV.js";import{T as q}from"./trash-2-04KiNg8K.js";import{S as z}from"./save-5ZuEQXRf.js";const U=()=>{const[p,b]=x.useState([]),[N,c]=x.useState(!1),[n,u]=x.useState(null),[t,l]=x.useState({title:"",description:"",category:"undergraduate",level:"Bachelor's",duration:"",credits:"",prerequisites:"",syllabus:[],instructor:"",schedule:"",capacity:"",fee:"",startDate:"",endDate:""}),v=k();x.useEffect(()=>{h()},[]);const h=()=>{const s=localStorage.getItem("royal-academy-courses");if(s)try{const r=JSON.parse(s),i=[];r.forEach(a=>{a.courses&&i.push(...a.courses)}),b(i)}catch(r){console.error("Error loading courses:",r)}},f=()=>{l({title:"",description:"",category:"undergraduate",level:"Bachelor's",duration:"",credits:"",prerequisites:"",syllabus:[],instructor:"",schedule:"",capacity:"",fee:"",startDate:"",endDate:""})},w=()=>{if(!t.title||!t.description||!t.duration||!t.fee||!t.level){alert("Please fill in all required fields.");return}const s={...t,id:n?n.id:Date.now().toString()};let r=[];const i=localStorage.getItem("royal-academy-courses");if(i&&(r=JSON.parse(i)),n)r=r.map(a=>a.courses&&a.courses.some(m=>m.id===s.id)?{...a,courses:a.courses.map(m=>m.id===s.id?s:m)}:a);else{const a=r.find(m=>m.name==="undergraduate");a?a.courses.push(s):r.push({name:"undergraduate",courses:[s]})}localStorage.setItem("royal-academy-courses",JSON.stringify(r)),h(),c(!1),f(),u(null)},y=s=>{u(s),l({title:s.title,description:s.description,category:s.category,level:s.level,duration:s.duration,credits:s.credits,prerequisites:s.prerequisites,syllabus:s.syllabus,instructor:s.instructor,schedule:s.schedule,capacity:s.capacity,fee:s.fee,startDate:s.startDate,endDate:s.endDate}),c(!0)},C=s=>{if(window.confirm("Are you sure you want to delete this course?")){let r=[];const i=localStorage.getItem("royal-academy-courses");i&&(r=JSON.parse(i)),r=r.map(a=>a.courses?{...a,courses:a.courses.filter(m=>m.id!==s)}:a).filter(a=>a.courses&&a.courses.length>0),localStorage.setItem("royal-academy-courses",JSON.stringify(r)),h()}};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/20",children:[e.jsx("header",{className:"bg-card/95 backdrop-blur-md border-b border-border/50 sticky top-0 z-50",children:e.jsx("div",{className:"w-full py-2 sm:py-3 md:py-4 px-2 sm:px-3 md:px-4",children:e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between gap-2 sm:gap-3 md:gap-4",children:[e.jsxs("div",{className:"flex items-center gap-1.5 sm:gap-2 md:gap-3 min-w-0 flex-wrap",children:[e.jsx(o,{variant:"outline",size:"sm",onClick:()=>v("/principal-dashboard"),className:"text-xs sm:text-xs px-1.5 sm:px-2 h-7 sm:h-8 flex-shrink-0 whitespace-nowrap",children:e.jsx(E,{className:"h-4 w-4 sm:h-4 sm:w-4"})}),e.jsxs("h1",{className:"text-xs sm:text-sm md:text-base font-heading font-bold text-foreground break-words",children:["Courses",e.jsx("br",{className:"sm:hidden"})," Management"]})]}),e.jsx(o,{onClick:()=>{f(),u(null),c(!0)},className:"bg-gradient-to-r from-royal to-gold text-white w-auto text-xs px-2 sm:px-2.5 h-7 sm:h-8 flex-shrink-0 whitespace-nowrap",children:e.jsx(I,{className:"h-4 w-4 sm:h-4 sm:w-4"})})]})})}),e.jsxs("div",{className:"container-wide py-4 sm:py-8 px-3 sm:px-4",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 sm:gap-6",children:p.map(s=>e.jsxs(g.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card rounded-lg sm:rounded-xl p-4 sm:p-6 border border-border/50",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3 sm:mb-4",children:[e.jsx(j,{className:"h-5 w-5 sm:h-6 sm:w-6 text-gold"}),e.jsxs("div",{className:"flex items-center space-x-1 sm:space-x-2",children:[e.jsx(o,{variant:"ghost",size:"sm",onClick:()=>y(s),className:"h-7 w-7 sm:h-8 sm:w-8 p-0",children:e.jsx(B,{className:"h-3 w-3 sm:h-4 sm:w-4"})}),e.jsx(o,{variant:"ghost",size:"sm",onClick:()=>C(s.id),className:"text-red-600 hover:text-red-700 h-7 w-7 sm:h-8 sm:w-8 p-0",children:e.jsx(q,{className:"h-3 w-3 sm:h-4 sm:w-4"})})]})]}),e.jsx("h3",{className:"text-base sm:text-lg font-semibold text-foreground mb-2",children:s.title}),e.jsx("p",{className:"text-xs sm:text-sm text-muted-foreground mb-3 sm:mb-4 line-clamp-2",children:s.description}),e.jsxs("div",{className:"space-y-1.5 sm:space-y-2 text-xs sm:text-sm",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Level:"}),e.jsx("span",{className:"font-medium text-foreground",children:s.level})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Duration:"}),e.jsx("span",{className:"font-medium text-foreground",children:s.duration})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Fee:"}),e.jsx("span",{className:"font-medium text-gold",children:s.fee})]})]})]},s.id))}),p.length===0&&e.jsxs("div",{className:"text-center py-8 sm:py-12",children:[e.jsx(j,{className:"h-12 w-12 sm:h-16 sm:w-16 mx-auto mb-3 sm:mb-4 text-muted-foreground opacity-50"}),e.jsx("p",{className:"text-sm sm:text-base text-muted-foreground px-4",children:"No courses available. Add your first course!"})]})]}),N&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-2 sm:p-4",children:e.jsxs(g.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},className:"bg-card rounded-lg sm:rounded-xl p-4 sm:p-6 w-full max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 sm:mb-6",children:[e.jsx("h3",{className:"text-lg sm:text-xl font-heading font-bold",children:n?"Edit Course":"Add New Course"}),e.jsx(o,{variant:"ghost",size:"sm",onClick:()=>c(!1),className:"h-8 w-8 p-0",children:e.jsx(S,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-3 sm:space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium mb-1.5 sm:mb-2 block",children:"Course Title"}),e.jsx(d,{value:t.title,onChange:s=>l({...t,title:s.target.value}),placeholder:"Enter course title",className:"text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium mb-1.5 sm:mb-2 block",children:"Description"}),e.jsx(D,{value:t.description,onChange:s=>l({...t,description:s.target.value}),placeholder:"Enter course description",rows:3,className:"text-sm"})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium mb-1.5 sm:mb-2 block",children:"Level"}),e.jsx(d,{value:t.level,onChange:s=>l({...t,level:s.target.value}),placeholder:"Bachelor's",className:"text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium mb-1.5 sm:mb-2 block",children:"Duration"}),e.jsx(d,{value:t.duration,onChange:s=>l({...t,duration:s.target.value}),placeholder:"4 years",className:"text-sm"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 sm:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium mb-1.5 sm:mb-2 block",children:"Credits"}),e.jsx(d,{value:t.credits,onChange:s=>l({...t,credits:s.target.value}),placeholder:"120",className:"text-sm"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium mb-1.5 sm:mb-2 block",children:"Fee"}),e.jsx(d,{value:t.fee,onChange:s=>l({...t,fee:s.target.value}),placeholder:"$45,000/year",className:"text-sm"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-xs sm:text-sm font-medium mb-1.5 sm:mb-2 block",children:"Instructor"}),e.jsx(d,{value:t.instructor,onChange:s=>l({...t,instructor:s.target.value}),placeholder:"Dr. John Smith",className:"text-sm"})]})]}),e.jsxs("div",{className:"flex flex-col-reverse sm:flex-row items-center justify-end gap-2 sm:gap-3 mt-4 sm:mt-6 pt-4 sm:pt-6 border-t",children:[e.jsx(o,{variant:"outline",onClick:()=>c(!1),className:"w-full sm:w-auto text-sm",children:"Cancel"}),e.jsxs(o,{onClick:w,className:"bg-gradient-to-r from-royal to-gold text-white w-full sm:w-auto text-sm",children:[e.jsx(z,{className:"h-3 w-3 sm:h-4 sm:w-4 mr-2"}),n?"Update":"Add"," Course"]})]})]})})]})};export{U as default};
