import{r as t,j as e,m as d,B as L,g as k}from"./index-vcAYm6vD.js";import{N as A}from"./Navigation-CkWS-LtT.js";import{I as E}from"./input-CVoIJ2zH.js";import{S as h,d as f,e as b,f as g,g as i}from"./select-BHw13X9t.js";import{u as B}from"./useTranslation-FKcwN8er.js";import{S as T}from"./search-DaWYlKik.js";import{B as j}from"./book-open-Cck4FFnk.js";import{D as I}from"./download-DqcvXZsi.js";import"./button-variants-BtDv6DLU.js";import"./house-ClAQJ8-A.js";import"./users-DshTqfGB.js";import"./calendar-Cyjlwh6t.js";import"./building-C8rHFNgL.js";import"./graduation-cap-P36faES5.js";import"./camera-Bc_Ov7XJ.js";import"./trophy-B-XvrowL.js";import"./chevron-down-D_kuZwQK.js";import"./globe-BWhPOJAF.js";import"./bell-D_AoMh8q.js";import"./index-XrueaTAc.js";const ee=()=>{const{t:y}=B(),[c,N]=t.useState([]),[m,u]=t.useState([]),[v,x]=t.useState(!0),[r,S]=t.useState(""),[o,w]=t.useState("all"),[n,C]=t.useState("all");t.useEffect(()=>{(async()=>{try{x(!0);const a=await k("royal-academy-syllabus",[]);N(a||[]),u(a||[])}catch(a){console.error("Error loading syllabus data:",a)}finally{x(!1)}})()},[]),t.useEffect(()=>{let s=[...c];r&&(s=s.filter(a=>a.title.toLowerCase().includes(r.toLowerCase())||a.description.toLowerCase().includes(r.toLowerCase()))),o!=="all"&&(s=s.filter(a=>a.class===parseInt(o))),n!=="all"&&(s=s.filter(a=>{var l;return((l=a.subject)==null?void 0:l.toLowerCase())===n.toLowerCase()})),u(s)},[r,o,n,c]);const p=Array.from(new Set(c.map(s=>s.subject).filter(Boolean))),D=(s,a)=>{const l=document.createElement("a");l.href=s,l.download=a,document.body.appendChild(l),l.click(),document.body.removeChild(l)};return v?e.jsx("div",{className:"min-h-screen flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-gold mx-auto"}),e.jsx("p",{className:"mt-4 text-foreground",children:"Loading syllabus..."})]})}):e.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-background to-muted/10",children:[e.jsx(A,{}),e.jsxs("div",{className:"container-wide px-4 sm:px-6 pt-24 sm:pt-28",children:[e.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center mb-10 sm:mb-16",children:[e.jsx("h1",{className:"text-3xl sm:text-4xl md:text-5xl font-heading font-bold mb-4 text-gradient-gold",children:y("syllabus")}),e.jsx("p",{className:"text-lg sm:text-xl text-muted-foreground max-w-3xl mx-auto",children:"Access curriculum guides and syllabus documents for all classes"})]}),e.jsx(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},className:"bg-card border border-border rounded-xl p-4 sm:p-6 mb-8",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[e.jsxs("div",{className:"relative flex-1",children:[e.jsx(T,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(E,{placeholder:"Search syllabus...",value:r,onChange:s=>S(s.target.value),className:"pl-10"})]}),e.jsxs("div",{className:"flex gap-4",children:[e.jsxs(h,{value:o,onValueChange:w,children:[e.jsx(f,{className:"w-32",children:e.jsx(b,{placeholder:"Class"})}),e.jsxs(g,{children:[e.jsx(i,{value:"all",children:"All Classes"}),Array.from({length:12},(s,a)=>a+1).map(s=>e.jsxs(i,{value:s.toString(),children:["Class ",s]},s))]})]}),p.length>0&&e.jsxs(h,{value:n,onValueChange:C,children:[e.jsx(f,{className:"w-32",children:e.jsx(b,{placeholder:"Subject"})}),e.jsxs(g,{children:[e.jsx(i,{value:"all",children:"All Subjects"}),p.map(s=>e.jsx(i,{value:s,children:s},s))]})]})]})]})}),m.length===0?e.jsxs(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"text-center py-12",children:[e.jsx(j,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground"}),e.jsx("h3",{className:"text-xl font-semibold text-foreground mb-2",children:"No syllabus found"}),e.jsx("p",{className:"text-muted-foreground",children:r||o!=="all"||n!=="all"?"Try adjusting your search or filters":"No syllabus documents have been uploaded yet"})]}):e.jsx(d.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:m.map(s=>e.jsxs("div",{className:"bg-card border border-border rounded-xl p-5 hover:shadow-lg transition-all duration-300 group",children:[e.jsxs("div",{className:"flex items-start justify-between mb-4",children:[e.jsx("div",{className:"bg-gradient-to-r from-gold/10 to-yellow-500/10 p-3 rounded-lg",children:e.jsx(j,{className:"h-6 w-6 text-gold"})}),e.jsxs("span",{className:"bg-gold/10 text-gold text-xs font-semibold px-2.5 py-1 rounded-full",children:["Class ",s.class]})]}),e.jsx("h3",{className:"font-heading font-bold text-lg text-foreground mb-2 line-clamp-2",children:s.title}),e.jsx("p",{className:"text-muted-foreground text-sm mb-4 line-clamp-3",children:s.description}),s.subject&&e.jsx("div",{className:"mb-4",children:e.jsx("span",{className:"inline-block bg-blue-500/10 text-blue-500 text-xs font-medium px-2 py-1 rounded",children:s.subject})}),e.jsxs("div",{className:"flex items-center justify-between text-xs text-muted-foreground mb-4",children:[e.jsxs("span",{children:["Uploaded: ",new Date(s.uploadedAt).toLocaleDateString()]}),e.jsx("span",{className:"truncate ml-2",children:s.fileName})]}),e.jsxs(L,{onClick:()=>D(s.fileUrl,s.fileName),className:"w-full bg-gradient-to-r from-gold to-yellow-500 text-white hover:from-gold/90 hover:to-yellow-500/90",children:[e.jsx(I,{className:"h-4 w-4 mr-2"}),"Download PDF"]})]},s.id))})]})]})};export{ee as default};
