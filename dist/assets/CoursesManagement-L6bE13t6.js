import{r as m,u as k,j as e,B as o,m as p,X as S}from"./index-vcAYm6vD.js";import{I as c}from"./input-CVoIJ2zH.js";import{T as D}from"./textarea-B1JbTjEM.js";import{A as E}from"./arrow-left-DhQ25n61.js";import{P as I}from"./plus-CSXBcpgr.js";import{B as g}from"./book-open-Cck4FFnk.js";import{S as A}from"./square-pen-BVw1FIsV.js";import{T as B}from"./trash-2-04KiNg8K.js";import{S as z}from"./save-5ZuEQXRf.js";const U=()=>{const[h,j]=m.useState([]),[v,n]=m.useState(!1),[d,u]=m.useState(null),[t,l]=m.useState({title:"",description:"",category:"undergraduate",level:"Bachelor's",duration:"",credits:"",prerequisites:"",syllabus:[],instructor:"",schedule:"",capacity:"",fee:"",startDate:"",endDate:""}),b=k();m.useEffect(()=>{x()},[]);const x=()=>{const s=localStorage.getItem("royal-academy-courses");if(s)try{const r=JSON.parse(s),a=[];r.forEach(i=>{i.courses&&a.push(...i.courses)}),j(a)}catch(r){console.error("Error loading courses:",r)}},N=()=>{if(!t.title||!t.description){alert("Please fill in title and description");return}const s={id:d?d.id:Date.now().toString(),...t},r=JSON.parse(localStorage.getItem("royal-academy-courses")||"[]");if(d)r.forEach(a=>{if(a.courses){const i=a.courses.findIndex(C=>C.id===d.id);i!==-1&&(a.courses[i]=s)}});else{const a=r.findIndex(i=>i.id===t.category);a!==-1&&(r[a].courses||(r[a].courses=[]),r[a].courses.push(s))}localStorage.setItem("royal-academy-courses",JSON.stringify(r)),x(),n(!1),u(null),f(),alert("Course saved successfully!")},y=s=>{if(!confirm("Are you sure you want to delete this course?"))return;const r=JSON.parse(localStorage.getItem("royal-academy-courses")||"[]");r.forEach(a=>{a.courses&&(a.courses=a.courses.filter(i=>i.id!==s))}),localStorage.setItem("royal-academy-courses",JSON.stringify(r)),x(),alert("Course deleted successfully!")},w=s=>{u(s),l({title:s.title,description:s.description,category:s.category,level:s.level,duration:s.duration,credits:s.credits,prerequisites:s.prerequisites,syllabus:s.syllabus||[],instructor:s.instructor,schedule:s.schedule,capacity:s.capacity,fee:s.fee,startDate:s.startDate,endDate:s.endDate}),n(!0)},f=()=>{l({title:"",description:"",category:"undergraduate",level:"Bachelor's",duration:"",credits:"",prerequisites:"",syllabus:[],instructor:"",schedule:"",capacity:"",fee:"",startDate:"",endDate:""})};return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/20",children:[e.jsx("header",{className:"bg-card/95 backdrop-blur-md border-b border-border/50 sticky top-0 z-50",children:e.jsx("div",{className:"w-full py-3 px-3 md:px-4",children:e.jsxs("div",{className:"flex items-center justify-between gap-3",children:[e.jsxs("div",{className:"flex items-center gap-2 min-w-0",children:[e.jsx(o,{variant:"outline",size:"sm",onClick:()=>b("/principal-dashboard"),className:"h-8 px-2",children:e.jsx(E,{className:"h-4 w-4"})}),e.jsx("h1",{className:"text-sm md:text-base font-heading font-bold text-foreground",children:"Courses Management"})]}),e.jsxs(o,{onClick:()=>{f(),u(null),n(!0)},className:"bg-gradient-to-r from-royal to-gold text-white px-3 h-8 flex-shrink-0",children:[e.jsx(I,{className:"h-4 w-4 mr-1"}),"Add Course"]})]})})}),e.jsxs("div",{className:"w-full py-6 px-3 md:px-4",children:[e.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4 max-w-7xl mx-auto",children:h.map(s=>e.jsxs(p.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"bg-card rounded-lg p-4 border border-border/50",children:[e.jsxs("div",{className:"flex items-start justify-between mb-3",children:[e.jsx(g,{className:"h-5 w-5 text-gold flex-shrink-0"}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(o,{variant:"ghost",size:"sm",onClick:()=>w(s),className:"h-7 w-7 p-0",children:e.jsx(A,{className:"h-4 w-4"})}),e.jsx(o,{variant:"ghost",size:"sm",onClick:()=>y(s.id),className:"text-red-600 hover:text-red-700 h-7 w-7 p-0",children:e.jsx(B,{className:"h-4 w-4"})})]})]}),e.jsx("h3",{className:"text-base font-semibold text-foreground mb-1",children:s.title}),e.jsx("p",{className:"text-sm text-muted-foreground mb-3 line-clamp-2",children:s.description}),e.jsxs("div",{className:"space-y-1.5 text-sm",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Level:"}),e.jsx("span",{className:"font-medium text-foreground",children:s.level})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Duration:"}),e.jsx("span",{className:"font-medium text-foreground",children:s.duration})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{className:"text-muted-foreground",children:"Fee:"}),e.jsx("span",{className:"font-medium text-gold",children:s.fee})]})]})]},s.id))}),h.length===0&&e.jsxs("div",{className:"text-center py-12",children:[e.jsx(g,{className:"h-16 w-16 mx-auto mb-3 text-muted-foreground opacity-50"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"No courses available. Add your first course!"})]})]}),v&&e.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-end sm:items-center justify-center z-50 p-0 sm:p-4",children:e.jsxs(p.div,{initial:{opacity:0,scale:.9,y:"100%"},animate:{opacity:1,scale:1,y:0},exit:{opacity:0,scale:.9,y:"100%"},transition:{type:"spring",damping:25,stiffness:300},className:"bg-card rounded-t-lg sm:rounded-xl p-4 md:p-6 w-full sm:max-w-2xl max-h-[90vh] overflow-y-auto",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4 md:mb-6",children:[e.jsx("h3",{className:"text-lg md:text-xl font-heading font-bold",children:d?"Edit Course":"Add New Course"}),e.jsx(o,{variant:"ghost",size:"sm",onClick:()=>n(!1),className:"h-8 w-8 p-0 flex-shrink-0",children:e.jsx(S,{className:"h-4 w-4"})})]}),e.jsxs("div",{className:"space-y-3 md:space-y-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-1.5 block",children:"Course Title"}),e.jsx(c,{value:t.title,onChange:s=>l({...t,title:s.target.value}),placeholder:"Enter course title"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-1.5 block",children:"Description"}),e.jsx(D,{value:t.description,onChange:s=>l({...t,description:s.target.value}),placeholder:"Enter course description",rows:3})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-1.5 block",children:"Level"}),e.jsx(c,{value:t.level,onChange:s=>l({...t,level:s.target.value}),placeholder:"Bachelor's"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-1.5 block",children:"Duration"}),e.jsx(c,{value:t.duration,onChange:s=>l({...t,duration:s.target.value}),placeholder:"4 years"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-3 md:gap-4",children:[e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-1.5 block",children:"Credits"}),e.jsx(c,{value:t.credits,onChange:s=>l({...t,credits:s.target.value}),placeholder:"120"})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-1.5 block",children:"Fee"}),e.jsx(c,{value:t.fee,onChange:s=>l({...t,fee:s.target.value}),placeholder:"$45,000/year"})]})]}),e.jsxs("div",{children:[e.jsx("label",{className:"text-sm font-medium mb-1.5 block",children:"Instructor"}),e.jsx(c,{value:t.instructor,onChange:s=>l({...t,instructor:s.target.value}),placeholder:"Dr. John Smith"})]})]}),e.jsxs("div",{className:"flex flex-col gap-2 sm:flex-row sm:justify-end sm:gap-3 mt-4 md:mt-6 pt-4 md:pt-6 border-t",children:[e.jsx(o,{variant:"outline",onClick:()=>n(!1),className:"w-full sm:w-auto",children:"Cancel"}),e.jsxs(o,{onClick:N,className:"bg-gradient-to-r from-royal to-gold text-white w-full sm:w-auto",children:[e.jsx(z,{className:"h-4 w-4 mr-2"}),d?"Update":"Add"," Course"]})]})]})})]})};export{U as default};
