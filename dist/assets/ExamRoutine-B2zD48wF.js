import{u as v,r as l,s as y,j as e,B as u,m as C}from"./index-vcAYm6vD.js";import{N as S}from"./Navigation-CkWS-LtT.js";import{F as k}from"./Footer-BiycIaLE.js";import{l as E}from"./examRoutinesHelper-DJ1zbqdB.js";import{S as R,d as T,e as B,f as F,g as f}from"./select-BHw13X9t.js";import{C as A,a as D,b as I,c as L,d as _}from"./card-yB6fowr0.js";import{B as H}from"./badge-LmcNerN7.js";import{A as z}from"./arrow-left-DhQ25n61.js";import{C as c}from"./calendar-Cyjlwh6t.js";import{F as U}from"./filter-Cf7tfofv.js";import{G as V}from"./graduation-cap-P36faES5.js";import{I as G}from"./info-DY3hXfGU.js";import{C as M}from"./circle-alert-D_zFa0RS.js";import{A as P}from"./arrow-up-DqqWJMn0.js";import"./button-variants-BtDv6DLU.js";import"./useTranslation-FKcwN8er.js";import"./house-ClAQJ8-A.js";import"./users-DshTqfGB.js";import"./book-open-Cck4FFnk.js";import"./building-C8rHFNgL.js";import"./camera-Bc_Ov7XJ.js";import"./trophy-B-XvrowL.js";import"./chevron-down-D_kuZwQK.js";import"./globe-BWhPOJAF.js";import"./bell-D_AoMh8q.js";import"./phone-CcjDqeo4.js";import"./mail-MYJrtdEn.js";import"./award-Bdl_Spfw.js";import"./map-pin-WXVSP-9y.js";import"./minus-D_KMDVYG.js";import"./plus-CSXBcpgr.js";import"./index-XrueaTAc.js";const ye=()=>{const g=v(),[i,n]=l.useState([]),[m,d]=l.useState([]),[o,x]=l.useState("all"),[j,b]=l.useState(!1);l.useEffect(()=>{const t=()=>{const s=window.scrollY,a=400,p=window.innerHeight+window.scrollY>=document.body.offsetHeight-1e3;b(s>a||p)};return window.addEventListener("scroll",t),()=>window.removeEventListener("scroll",t)},[]);const N=()=>{window.scrollTo({top:0,behavior:"smooth"})};l.useEffect(()=>{(async()=>{const a=await E();n(a),d(a)})();const s=y("royal-academy-exam-routines",a=>{console.log("[ExamRoutine] Received realtime update"),n(a)});return()=>{s()}},[]),l.useEffect(()=>{let t=i;o!=="all"&&(t=t.filter(s=>s.class===o||s.class==="All")),d(t.sort((s,a)=>new Date(s.date).getTime()-new Date(a.date).getTime()))},[o,i]);const w=()=>{x("all")},h=(t=>{const s={};return t.forEach(a=>{const r=new Date(a.date).toLocaleDateString("en-US",{month:"long",year:"numeric"});s[r]||(s[r]=[]),s[r].push(a)}),s})(m);return e.jsxs("div",{className:"min-h-screen bg-background text-foreground",children:[e.jsx(S,{}),e.jsxs("section",{className:"relative pt-24 sm:pt-32 pb-12 sm:pb-20 overflow-hidden",children:[e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-muted/20 via-background to-accent/10"}),e.jsxs("div",{className:"container-wide relative z-10 px-4 sm:px-6",children:[e.jsx("div",{className:"mb-6 sm:mb-8",children:e.jsxs(u,{variant:"ghost",onClick:()=>g(-1),className:"back-btn flex items-center space-x-2",children:[e.jsx(z,{className:"h-4 w-4"}),e.jsx("span",{children:"Back"})]})}),e.jsxs("div",{className:"text-center mb-8 sm:mb-12",children:[e.jsx("div",{className:"flex items-center justify-center mb-4",children:e.jsx(c,{className:"h-12 w-12 sm:h-16 sm:w-16 text-accent"})}),e.jsx("h1",{className:"text-3xl sm:text-5xl md:text-6xl font-heading font-bold mb-4 sm:mb-6",children:e.jsx("span",{className:"text-gradient-gold",children:"Exam Routine"})}),e.jsx("p",{className:"text-base sm:text-lg text-muted-foreground max-w-3xl mx-auto leading-relaxed px-2 sm:px-0",children:"View the examination schedule for all classes. Filter by class and section to see your personalized exam timetable."})]})]})]}),e.jsx("section",{className:"py-6 border-b border-border bg-muted/20",children:e.jsx("div",{className:"container-wide px-4 sm:px-6",children:e.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 items-start sm:items-center justify-between",children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[e.jsx(U,{className:"h-5 w-5 text-muted-foreground"}),e.jsx("h2",{className:"text-lg font-semibold",children:"Filter Exams"})]}),e.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 w-full sm:w-auto",children:[e.jsxs(R,{value:o,onValueChange:x,children:[e.jsx(T,{className:"glass-button w-full sm:w-[180px]",children:e.jsx(B,{placeholder:"Select Class"})}),e.jsxs(F,{children:[e.jsx(f,{value:"all",children:"All Classes"}),Array.from({length:12},(t,s)=>s+1).map(t=>e.jsxs(f,{value:String(t),children:["Class ",t]},t))]})]}),o!=="all"&&e.jsx(u,{variant:"outline",onClick:w,className:"glass-button w-full sm:w-auto",children:"Reset Filters"})]})]})})}),e.jsx("section",{className:"section-padding",children:e.jsx("div",{className:"container-wide px-4 sm:px-6",children:m.length===0?e.jsxs("div",{className:"text-center py-20",children:[e.jsx(c,{className:"h-20 w-20 mx-auto mb-6 text-muted-foreground opacity-30"}),e.jsx("h3",{className:"text-2xl font-heading font-semibold mb-3 text-muted-foreground",children:"No Exams Scheduled"}),e.jsx("p",{className:"text-muted-foreground max-w-md mx-auto",children:o!=="all"?"No exams found for the selected class. Try adjusting your selection.":"There are no exam routines available at the moment. Please check back later."})]}):e.jsx("div",{className:"space-y-12",children:Object.keys(h).map(t=>e.jsxs("div",{children:[e.jsxs("h2",{className:"text-2xl sm:text-3xl font-heading font-bold mb-6 flex items-center space-x-3",children:[e.jsx(V,{className:"h-7 w-7 text-accent"}),e.jsx("span",{children:t})]}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:h[t].map(s=>e.jsxs(A,{className:`glass-card ${s.is_holiday?"border-accent/30 bg-accent/5":""}`,children:[e.jsxs(D,{children:[e.jsxs("div",{className:"flex justify-between items-start mb-2",children:[e.jsx(H,{variant:s.is_holiday?"secondary":"default",className:"glass-badge",children:s.is_holiday?"Holiday":"Exam"}),e.jsx(c,{className:"h-5 w-5 text-muted-foreground"})]}),e.jsx(I,{className:"text-lg sm:text-xl",children:s.exam_name}),e.jsxs(L,{className:"flex flex-col space-y-1 mt-2",children:[e.jsx("span",{className:"text-base font-medium",children:new Date(s.date).toLocaleDateString("en-US",{weekday:"long",month:"long",day:"numeric",year:"numeric"})}),e.jsxs("span",{className:"text-sm",children:["Class: ",s.class]})]})]}),s.notes&&e.jsx(_,{children:e.jsxs("div",{className:"flex items-start space-x-2 p-3 rounded-lg bg-muted/30",children:[e.jsx(G,{className:"h-4 w-4 text-accent mt-0.5 flex-shrink-0"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:s.notes})]})})]},s.id))})]},t))})})}),e.jsx("section",{className:"py-8 bg-accent/5 border-y border-accent/20",children:e.jsx("div",{className:"container-wide px-4 sm:px-6",children:e.jsxs("div",{className:"flex items-start space-x-3 p-4 rounded-lg bg-background/50",children:[e.jsx(M,{className:"h-5 w-5 text-accent mt-0.5 flex-shrink-0"}),e.jsxs("div",{className:"space-y-1",children:[e.jsx("p",{className:"font-semibold",children:"Important Information"}),e.jsx("p",{className:"text-sm text-muted-foreground",children:"Students are advised to arrive 15 minutes before the exam start time. Bring your ID card and necessary stationery. Check with your class teacher for any last-minute updates or changes to the schedule."})]})]})})}),j&&e.jsx(C.button,{initial:{opacity:0,scale:0},animate:{opacity:1,scale:1},exit:{opacity:0,scale:0},onClick:N,className:"fixed bottom-8 right-8 z-50 p-3 rounded-full bg-gold hover:bg-gold/90 text-black shadow-lg hover:shadow-xl transition-all duration-300","aria-label":"Scroll to top",children:e.jsx(P,{className:"h-6 w-6"})}),e.jsx(k,{})]})};export{ye as default};
