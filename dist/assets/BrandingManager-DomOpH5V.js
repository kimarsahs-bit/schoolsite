import{r,j as e,m as i,g as C,a as k}from"./index-vcAYm6vD.js";import{B as b}from"./button-variants-BtDv6DLU.js";import{I as p}from"./input-CVoIJ2zH.js";import{L as c}from"./label-CYmdnxUg.js";import{T as S}from"./textarea-B1JbTjEM.js";const F=()=>{const[a,n]=r.useState({schoolName:"Royal Academy",tagline:"Preparing minds for the future",logoUrl:"/placeholder.svg"}),[m,g]=r.useState(!1),[v,d]=r.useState(!1),u=r.useRef(null);r.useEffect(()=>{(async()=>{try{const o=await C("royal-academy-branding",{schoolName:"Royal Academy",tagline:"Preparing minds for the future",logoUrl:"/placeholder.svg"});n({schoolName:o.schoolName||"Royal Academy",tagline:o.tagline||"Preparing minds for the future",logoUrl:o.logoUrl||"/placeholder.svg"})}catch(o){console.error("Error loading branding data:",o)}})()},[]);const x=s=>{const{name:o,value:t}=s.target;n(l=>({...l,[o]:t}))},j=s=>{var t;const o=(t=s.target.files)==null?void 0:t[0];if(o){const l=new FileReader;l.onload=h=>{var f;(f=h.target)!=null&&f.result&&n(w=>({...w,logoUrl:h.target.result}))},l.readAsDataURL(o)}},N=()=>{var s;(s=u.current)==null||s.click()},y=async s=>{s.preventDefault(),g(!0),d(!1);try{await k("royal-academy-branding",a),d(!0),window.dispatchEvent(new CustomEvent("branding-updated",{detail:a})),setTimeout(()=>d(!1),3e3)}catch(o){console.error("Error saving branding data:",o),alert("Failed to save branding data. Please try again.")}finally{g(!1)}};return e.jsxs("div",{className:"space-y-8",children:[e.jsxs("div",{children:[e.jsx("h2",{className:"text-2xl font-heading font-bold text-foreground mb-2",children:"School Branding"}),e.jsx("p",{className:"text-muted-foreground",children:"Customize your school's name, tagline, and logo across the entire website."})]}),e.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[e.jsx(i.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.3},className:"bg-card/95 backdrop-blur-md rounded-xl p-6 border border-border/50",children:e.jsxs("form",{onSubmit:y,className:"space-y-6",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"schoolName",className:"text-foreground",children:"School Name"}),e.jsx(p,{id:"schoolName",name:"schoolName",value:a.schoolName,onChange:x,placeholder:"Enter your school name",className:"bg-background border-border"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{htmlFor:"tagline",className:"text-foreground",children:"Tagline"}),e.jsx(S,{id:"tagline",name:"tagline",value:a.tagline,onChange:x,placeholder:"Enter your school tagline",rows:3,className:"bg-background border-border"})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(c,{className:"text-foreground",children:"Choose Logo from Your Device"}),e.jsx(p,{type:"file",accept:"image/*",onChange:j,ref:u,className:"hidden"}),e.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-3",children:[e.jsx(b,{type:"button",onClick:N,className:"bg-gradient-to-r from-gold to-yellow-500 text-white font-bold hover:from-gold/90 hover:to-yellow-500/90 w-full sm:w-auto",children:"Choose Logo from Device"}),e.jsx("span",{className:"text-sm text-muted-foreground",children:a.logoUrl&&a.logoUrl!=="/placeholder.svg"?"Logo selected âœ“":"No logo chosen"})]}),a.logoUrl&&a.logoUrl!=="/placeholder.svg"&&e.jsxs("div",{className:"mt-3 p-3 bg-muted/20 rounded-lg border border-border/30",children:[e.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:"Preview:"}),e.jsx("img",{src:a.logoUrl,alt:"Logo preview",className:"w-16 h-16 object-contain rounded border border-border"})]}),e.jsx("p",{className:"text-xs text-muted-foreground",children:"Upload your logo image (PNG, JPG, SVG). For best results, use a square image with transparent background."})]}),e.jsxs("div",{className:"pt-4",children:[e.jsx(b,{type:"submit",disabled:m,className:"w-full bg-gradient-to-r from-gold to-yellow-500 text-white font-bold hover:from-gold/90 hover:to-yellow-500/90",children:m?"Saving...":"Save Branding"}),v&&e.jsx(i.div,{initial:{opacity:0,y:10},animate:{opacity:1,y:0},className:"mt-3 p-3 bg-green-500/10 border border-green-500/30 rounded-lg text-green-600 text-center",children:"Branding updated successfully!"})]})]})}),e.jsx(i.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3,delay:.1},className:"space-y-6",children:e.jsxs("div",{className:"bg-card/95 backdrop-blur-md rounded-xl p-6 border border-border/50",children:[e.jsx("h3",{className:"text-lg font-heading font-bold text-foreground mb-4",children:"Preview"}),e.jsxs("div",{className:"space-y-6",children:[e.jsx("div",{className:"bg-muted/20 rounded-lg p-4",children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx("div",{className:"w-10 h-10 rounded-full bg-gradient-to-r from-gold to-yellow-500 flex items-center justify-center",children:e.jsx("svg",{className:"w-5 h-5 text-black",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-heading font-bold text-gradient-gold",children:a.schoolName}),e.jsx("div",{className:"text-xs text-muted-foreground",children:a.tagline})]})]})})}),e.jsxs("div",{className:"bg-muted/20 rounded-lg p-6 text-center",children:[e.jsxs("div",{className:"w-16 h-16 mx-auto mb-4 relative",children:[e.jsx("div",{className:"absolute inset-0 rounded-full bg-gradient-to-r from-gold to-yellow-500 opacity-20"}),e.jsx("div",{className:"absolute inset-1 rounded-full bg-gradient-to-r from-gold to-yellow-500 flex items-center justify-center",children:e.jsx("svg",{className:"w-8 h-8 text-black",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})})]}),e.jsx("h3",{className:"text-xl font-heading font-bold text-gradient-gold mb-1",children:a.schoolName}),e.jsx("p",{className:"text-muted-foreground text-sm",children:a.tagline}),e.jsx("div",{className:"h-1 bg-gradient-to-r from-gold to-yellow-500 mt-4 rounded-full w-3/4 mx-auto"})]}),e.jsxs("div",{className:"bg-muted/20 rounded-lg p-4",children:[e.jsxs("div",{className:"flex items-center space-x-2 mb-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-full bg-gradient-to-r from-gold to-yellow-500 flex items-center justify-center",children:e.jsx("svg",{className:"w-4 h-4 text-black",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 6.253v13m0-13C10.832 5.477 9.246 5 7.5 5S4.168 5.477 3 6.253v13C4.168 18.477 5.754 18 7.5 18s3.332.477 4.5 1.253m0-13C13.168 5.477 14.754 5 16.5 5c1.747 0 3.332.477 4.5 1.253v13C19.832 18.477 18.247 18 16.5 18c-1.746 0-3.332.477-4.5 1.253"})})}),e.jsxs("div",{children:[e.jsx("div",{className:"font-heading font-bold text-gradient-gold text-sm",children:a.schoolName}),e.jsx("div",{className:"text-xs text-muted-foreground",children:a.tagline})]})]}),e.jsxs("p",{className:"text-xs text-muted-foreground mt-2",children:["Nurturing minds, shaping futures. For over 148 years, ",a.schoolName," has been committed to providing world-class education."]})]})]})]})})]})]})};export{F as default};
